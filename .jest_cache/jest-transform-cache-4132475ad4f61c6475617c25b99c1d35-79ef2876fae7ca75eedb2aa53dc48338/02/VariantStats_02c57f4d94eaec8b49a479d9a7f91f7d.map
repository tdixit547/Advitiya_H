{"file":"/Users/grover.heer/Documents/GitHub/Advitiya_H/src/models/VariantStats.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAsD;AAatD,MAAM,kBAAkB,GAAG,IAAI,iBAAM,CAAgB;IACjD,UAAU,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,IAAI;QACZ,KAAK,EAAE,IAAI;KACd;IACD,MAAM,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;KACd;IACD,MAAM,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACb;IACD,WAAW,EAAE;QACT,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACb;IACD,GAAG,EAAE;QACD,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACb;IACD,KAAK,EAAE;QACH,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACb;IACD,kBAAkB,EAAE;QAChB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACb;IACD,YAAY,EAAE;QACV,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI,CAAC,GAAG;KACpB;CACJ,CAAC,CAAC;AAEH,gCAAgC;AAChC,kBAAkB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAEtC,QAAA,YAAY,GAAG,kBAAQ,CAAC,KAAK,CAAgB,cAAc,EAAE,kBAAkB,CAAC,CAAC","names":[],"sources":["/Users/grover.heer/Documents/GitHub/Advitiya_H/src/models/VariantStats.ts"],"sourcesContent":["import mongoose, { Schema, Document } from 'mongoose';\n\nexport interface IVariantStats extends Document {\n    variant_id: string;\n    hub_id: string;\n    clicks: number;\n    impressions: number;\n    ctr: number;                   // Click-through rate: clicks / impressions\n    score: number;                 // Precomputed ranking score (heuristic or ML)\n    recent_clicks_hour: number;    // Rolling 60-minute click count (ML feature)\n    last_updated: Date;\n}\n\nconst VariantStatsSchema = new Schema<IVariantStats>({\n    variant_id: {\n        type: String,\n        required: true,\n        unique: true,\n        index: true\n    },\n    hub_id: {\n        type: String,\n        required: true,\n        index: true\n    },\n    clicks: {\n        type: Number,\n        default: 0\n    },\n    impressions: {\n        type: Number,\n        default: 0\n    },\n    ctr: {\n        type: Number,\n        default: 0\n    },\n    score: {\n        type: Number,\n        default: 0\n    },\n    recent_clicks_hour: {\n        type: Number,\n        default: 0\n    },\n    last_updated: {\n        type: Date,\n        default: Date.now\n    },\n});\n\n// Index for score-based sorting\nVariantStatsSchema.index({ hub_id: 1, score: -1 });\n\nexport const VariantStats = mongoose.model<IVariantStats>('VariantStats', VariantStatsSchema);\n"],"version":3}