{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/RuleConfigurator.tsx"],"sourcesContent":["// ============================================\n// SMART LINK HUB - Rule Configurator Component\n// No-code UI for setting up smart rules\n// ============================================\n\n'use client';\n\nimport { useState } from 'react';\nimport { LinkWithRules, LinkRule, RuleType, RuleAction } from '@/types';\n\ninterface RuleConfiguratorProps {\n  link: LinkWithRules;\n  onAddRule: (rule: Omit<LinkRule, 'id' | 'link_id' | 'created_at'>) => void;\n  onDeleteRule: (ruleId: number) => void;\n}\n\nexport default function RuleConfigurator({\n  link,\n  onAddRule,\n  onDeleteRule,\n}: RuleConfiguratorProps) {\n  const [isAddingRule, setIsAddingRule] = useState(false);\n  const [ruleType, setRuleType] = useState<RuleType>('TIME');\n  const [action, setAction] = useState<RuleAction>('SHOW');\n\n  // Time rule state\n  const [startHour, setStartHour] = useState(9);\n  const [endHour, setEndHour] = useState(17);\n\n  // Device rule state\n  const [device, setDevice] = useState<'mobile' | 'desktop'>('mobile');\n  const [os, setOs] = useState<'ios' | 'android' | ''>('');\n\n  // Location rule state\n  const [country, setCountry] = useState('IN');\n\n  const handleAddRule = () => {\n    let conditions: Record<string, unknown> = {};\n\n    switch (ruleType) {\n      case 'TIME':\n        conditions = { startHour, endHour };\n        break;\n      case 'DEVICE':\n        conditions = { device };\n        if (os) conditions.os = os;\n        break;\n      case 'LOCATION':\n        conditions = { country };\n        break;\n    }\n\n    onAddRule({\n      rule_type: ruleType,\n      conditions,\n      action,\n      is_active: true,\n    });\n\n    setIsAddingRule(false);\n    // Reset form\n    setStartHour(9);\n    setEndHour(17);\n    setDevice('mobile');\n    setOs('');\n    setCountry('IN');\n  };\n\n  const getRuleDescription = (rule: LinkRule): string => {\n    const conditions = rule.conditions as Record<string, unknown>;\n    switch (rule.rule_type) {\n      case 'TIME':\n        return `${rule.action} between ${conditions.startHour}:00 - ${conditions.endHour}:00`;\n      case 'DEVICE':\n        return `${rule.action} on ${conditions.device}${conditions.os ? ` (${conditions.os})` : ''}`;\n      case 'LOCATION':\n        return `${rule.action} in ${conditions.country}`;\n      default:\n        return 'Unknown rule';\n    }\n  };\n\n  const getRuleIcon = (type: RuleType): string => {\n    switch (type) {\n      case 'TIME':\n        return '‚è∞';\n      case 'DEVICE':\n        return 'üì±';\n      case 'LOCATION':\n        return 'üåç';\n      default:\n        return '‚öôÔ∏è';\n    }\n  };\n\n  return (\n    <div className=\"dashboard-card p-6 space-y-6\">\n      <div>\n        <h2 className=\"text-xl font-semibold text-[#00FF00] mb-1\">\n          Smart Rules for \"{link.title}\"\n        </h2>\n        <p className=\"text-gray-500 text-sm\">\n          Configure when this link should appear based on visitor context\n        </p>\n      </div>\n\n      {/* Existing Rules */}\n      <div className=\"space-y-3\">\n        {link.rules.map((rule) => (\n          <div\n            key={rule.id}\n            className=\"flex items-center justify-between p-3 bg-black/50 rounded-lg border border-gray-800\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-2xl\">{getRuleIcon(rule.rule_type)}</span>\n              <div>\n                <span className=\"text-xs text-[#00FF00] uppercase font-medium\">\n                  {rule.rule_type}\n                </span>\n                <p className=\"text-white\">{getRuleDescription(rule)}</p>\n              </div>\n            </div>\n            <button\n              onClick={() => onDeleteRule(rule.id)}\n              className=\"text-red-500 hover:text-red-400 p-2\"\n            >\n              ‚úï\n            </button>\n          </div>\n        ))}\n\n        {link.rules.length === 0 && !isAddingRule && (\n          <p className=\"text-gray-500 text-center py-4\">\n            No rules configured. This link is always visible.\n          </p>\n        )}\n      </div>\n\n      {/* Add Rule Form */}\n      {isAddingRule ? (\n        <div className=\"space-y-4 p-4 bg-black/50 rounded-lg border border-[#00FF00]/30\">\n          <h3 className=\"font-medium text-white\">Add New Rule</h3>\n\n          {/* Rule Type Selection */}\n          <div>\n            <label className=\"block text-gray-400 text-sm mb-2\">Rule Type</label>\n            <div className=\"flex gap-2\">\n              {(['TIME', 'DEVICE', 'LOCATION'] as RuleType[]).map((type) => (\n                <button\n                  key={type}\n                  onClick={() => setRuleType(type)}\n                  className={`px-4 py-2 rounded-lg border transition-all ${\n                    ruleType === type\n                      ? 'bg-[#00FF00] text-black border-[#00FF00]'\n                      : 'border-gray-600 text-gray-400 hover:border-[#00FF00]'\n                  }`}\n                >\n                  {getRuleIcon(type)} {type}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Action Selection */}\n          <div>\n            <label className=\"block text-gray-400 text-sm mb-2\">Action</label>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setAction('SHOW')}\n                className={`px-4 py-2 rounded-lg border transition-all ${\n                  action === 'SHOW'\n                    ? 'bg-[#00FF00] text-black border-[#00FF00]'\n                    : 'border-gray-600 text-gray-400 hover:border-[#00FF00]'\n                }`}\n              >\n                SHOW only when\n              </button>\n              <button\n                onClick={() => setAction('HIDE')}\n                className={`px-4 py-2 rounded-lg border transition-all ${\n                  action === 'HIDE'\n                    ? 'bg-red-500 text-white border-red-500'\n                    : 'border-gray-600 text-gray-400 hover:border-red-500'\n                }`}\n              >\n                HIDE when\n              </button>\n            </div>\n          </div>\n\n          {/* Condition Fields */}\n          <div className=\"pt-2\">\n            {ruleType === 'TIME' && (\n              <div className=\"flex gap-4 items-center\">\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Start Hour</label>\n                  <select\n                    value={startHour}\n                    onChange={(e) => setStartHour(parseInt(e.target.value))}\n                    className=\"w-24\"\n                  >\n                    {Array.from({ length: 24 }, (_, i) => (\n                      <option key={i} value={i}>\n                        {i.toString().padStart(2, '0')}:00\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <span className=\"text-gray-500 mt-6\">to</span>\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">End Hour</label>\n                  <select\n                    value={endHour}\n                    onChange={(e) => setEndHour(parseInt(e.target.value))}\n                    className=\"w-24\"\n                  >\n                    {Array.from({ length: 24 }, (_, i) => (\n                      <option key={i} value={i}>\n                        {i.toString().padStart(2, '0')}:00\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            )}\n\n            {ruleType === 'DEVICE' && (\n              <div className=\"flex gap-4\">\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Device</label>\n                  <select\n                    value={device}\n                    onChange={(e) => setDevice(e.target.value as 'mobile' | 'desktop')}\n                    className=\"w-32\"\n                  >\n                    <option value=\"mobile\">Mobile</option>\n                    <option value=\"desktop\">Desktop</option>\n                    <option value=\"tablet\">Tablet</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">\n                    OS (Optional)\n                  </label>\n                  <select\n                    value={os}\n                    onChange={(e) => setOs(e.target.value as 'ios' | 'android' | '')}\n                    className=\"w-32\"\n                  >\n                    <option value=\"\">Any</option>\n                    <option value=\"ios\">iOS</option>\n                    <option value=\"android\">Android</option>\n                    <option value=\"windows\">Windows</option>\n                    <option value=\"macos\">macOS</option>\n                  </select>\n                </div>\n              </div>\n            )}\n\n            {ruleType === 'LOCATION' && (\n              <div>\n                <label className=\"block text-gray-400 text-sm mb-1\">Country</label>\n                <select\n                  value={country}\n                  onChange={(e) => setCountry(e.target.value)}\n                  className=\"w-48\"\n                >\n                  <option value=\"IN\">üáÆüá≥ India</option>\n                  <option value=\"US\">üá∫üá∏ United States</option>\n                  <option value=\"UK\">üá¨üáß United Kingdom</option>\n                  <option value=\"CA\">üá®üá¶ Canada</option>\n                  <option value=\"DE\">üá©üá™ Germany</option>\n                  <option value=\"AU\">üá¶üá∫ Australia</option>\n                  <option value=\"FR\">üá´üá∑ France</option>\n                  <option value=\"JP\">üáØüáµ Japan</option>\n                </select>\n              </div>\n            )}\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-3 pt-2\">\n            <button onClick={handleAddRule} className=\"btn btn-primary\">\n              Add Rule\n            </button>\n            <button\n              onClick={() => setIsAddingRule(false)}\n              className=\"btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      ) : (\n        <button\n          onClick={() => setIsAddingRule(true)}\n          className=\"w-full py-3 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-[#00FF00] hover:text-[#00FF00] transition-all\"\n        >\n          + Add Smart Rule\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/LinkListReorder.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n  useSortable\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { LinkWithRules } from '@/types';\nimport clsx from 'clsx';\n\ninterface LinkListReorderProps {\n  links: LinkWithRules[];\n  onReorder: (newOrder: LinkWithRules[]) => void;\n  onEdit: (link: LinkWithRules) => void;\n  onDelete: (id: number) => void;\n  onSelect: (link: LinkWithRules) => void;\n  selectedId: number | undefined;\n}\n\nexport default function LinkListReorder({\n  links,\n  onReorder,\n  onEdit,\n  onDelete,\n  onSelect,\n  selectedId\n}: LinkListReorderProps) {\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  function handleDragEnd(event: DragEndEvent) {\n    const { active, over } = event;\n\n    if (active.id !== over?.id) {\n      const oldIndex = links.findIndex((item) => item.id === active.id);\n      const newIndex = links.findIndex((item) => item.id === over?.id);\n\n      onReorder(arrayMove(links, oldIndex, newIndex));\n    }\n  }\n\n  if (links.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-[#666]\">\n        <p className=\"text-sm\">No links yet</p>\n        <p className=\"text-xs mt-1\">Click \"Add Link\" to create one</p>\n      </div>\n    );\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext\n        items={links.map(l => l.id)}\n        strategy={verticalListSortingStrategy}\n      >\n        <div className=\"space-y-2\" role=\"list\">\n          {links.map((link) => (\n            <SortableLinkItem\n              key={link.id}\n              link={link}\n              onEdit={() => onEdit(link)}\n              onDelete={() => onDelete(link.id)}\n              onSelect={() => onSelect(link)}\n              isSelected={selectedId === link.id}\n            />\n          ))}\n        </div>\n      </SortableContext>\n    </DndContext>\n  );\n}\n\nfunction SortableLinkItem({\n  link,\n  onEdit,\n  onDelete,\n  onSelect,\n  isSelected,\n}: {\n  link: LinkWithRules,\n  onEdit: () => void,\n  onDelete: () => void,\n  onSelect: () => void,\n  isSelected: boolean,\n}) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging\n  } = useSortable({ id: link.id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    zIndex: isDragging ? 50 : 'auto',\n    opacity: isDragging ? 0.8 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={clsx(\n        \"bg-[#0a0a0a] border rounded-lg p-3 flex items-center gap-3 group transition-all cursor-pointer\",\n        isSelected\n          ? \"border-[#00C853] ring-1 ring-[#00C853]/30 bg-[#00C853]/5\"\n          : \"border-[#222] hover:border-[#333] hover:bg-[#111]\"\n      )}\n      onClick={onSelect}\n      role=\"listitem\"\n    >\n      {/* Drag Handle */}\n      <button\n        {...attributes}\n        {...listeners}\n        className=\"cursor-grab active:cursor-grabbing p-1 text-[#444] hover:text-[#666] focus:outline-none shrink-0\"\n        aria-label=\"Drag to reorder\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <path d=\"M4 5h8v1.5H4zM4 9.5h8V11H4z\" />\n        </svg>\n      </button>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0 overflow-hidden\">\n        <h4 className={clsx(\n          \"font-medium text-sm truncate\",\n          link.is_active ? \"text-[#E6E6E6]\" : \"text-[#666] line-through\"\n        )}>\n          {link.title}\n        </h4>\n        <p className=\"text-xs text-[#666] truncate\">{link.url}</p>\n      </div>\n\n      {/* Badges & Actions */}\n      <div className=\"flex items-center gap-1 shrink-0\">\n        {link.rules.length > 0 && (\n          <span className=\"px-1.5 py-0.5 text-[10px] bg-[#00C853]/20 text-[#00C853] rounded border border-[#00C853]/30 uppercase font-medium\">\n            {link.rules.length} {link.rules.length === 1 ? 'rule' : 'rules'}\n          </span>\n        )}\n        <button\n          onClick={(e) => { e.stopPropagation(); onDelete(); }}\n          className=\"p-1.5 text-[#666] hover:text-red-400 rounded hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity\"\n          aria-label=\"Delete link\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/AnalyticsPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend\n} from 'recharts';\nimport { AnalyticsStats } from '@/types';\n\nconst EMPTY_STATS: AnalyticsStats = {\n  totalViews: 0,\n  totalClicks: 0,\n  uniqueVisitors: 0,\n  topLinks: [],\n  viewsByDay: [],\n  viewsByCountry: [],\n  viewsByDevice: []\n};\n\ninterface AnalyticsPanelProps {\n  stats?: AnalyticsStats;\n}\n\n// Custom tooltip component for better readability\nconst CustomTooltip = ({ active, payload, label }: any) => {\n  if (!active || !payload || !payload.length) return null;\n\n  return (\n    <div className=\"bg-[#0a0a0a] border border-[#333] rounded-lg p-3 shadow-xl\">\n      <p className=\"text-[#9A9A9A] text-sm mb-2 font-medium\">{label}</p>\n      {payload.map((item: any, index: number) => (\n        <div key={index} className=\"flex items-center gap-2 text-sm\">\n          <span\n            className=\"w-3 h-3 rounded-full\"\n            style={{ backgroundColor: item.color }}\n          />\n          <span className=\"text-[#E6E6E6] capitalize\">{item.dataKey}:</span>\n          <span className=\"font-bold text-white\">{item.value.toLocaleString()}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Custom legend component\nconst CustomLegend = ({ payload }: any) => {\n  return (\n    <div className=\"flex items-center justify-center gap-6 mt-4\">\n      {payload?.map((entry: any, index: number) => (\n        <div key={index} className=\"flex items-center gap-2\">\n          <span\n            className=\"w-4 h-1 rounded-full\"\n            style={{\n              backgroundColor: entry.color,\n              borderStyle: entry.payload?.strokeDasharray ? 'dashed' : 'solid'\n            }}\n          />\n          <span className=\"text-sm text-[#9A9A9A] capitalize\">{entry.value}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default function AnalyticsPanel({ stats = EMPTY_STATS }: AnalyticsPanelProps) {\n  const [liveStats, setLiveStats] = useState(stats);\n  const [activeTab, setActiveTab] = useState<'7d' | '30d' | '90d'>('7d');\n\n  // Fetch real stats on mount\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const res = await fetch(`/api/analytics/stats?hub_id=1&period=${activeTab}`);\n        const data = await res.json();\n        if (data.success) {\n          setLiveStats(data.data);\n        }\n      } catch (error) {\n        console.error('Failed to fetch analytics:', error);\n      }\n    };\n    fetchStats();\n  }, [activeTab]);\n\n  // Use live data or fallback to mock for visualization\n  const chartData = liveStats.viewsByDay.length > 0 ? liveStats.viewsByDay : [\n    { date: 'Mon', views: 45, clicks: 20 },\n    { date: 'Tue', views: 65, clicks: 35 },\n    { date: 'Wed', views: 85, clicks: 45 },\n    { date: 'Thu', views: 120, clicks: 80 },\n    { date: 'Fri', views: 95, clicks: 60 },\n    { date: 'Sat', views: 150, clicks: 90 },\n    { date: 'Sun', views: 180, clicks: 110 },\n  ];\n\n  // Calculate CTR\n  const ctr = liveStats.totalViews > 0\n    ? ((liveStats.totalClicks / liveStats.totalViews) * 100).toFixed(1)\n    : '0.0';\n\n  return (\n    <div className=\"space-y-4\" aria-label=\"Analytics Dashboard\">\n      {/* KPI Cards */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <KpiCard\n          label=\"Total Views\"\n          value={liveStats.totalViews || 0}\n          icon=\"üëÅÔ∏è\"\n        />\n        <KpiCard\n          label=\"Total Clicks\"\n          value={liveStats.totalClicks || 0}\n          icon=\"üñ±Ô∏è\"\n        />\n        <KpiCard\n          label=\"CTR\"\n          value={`${ctr}%`}\n          icon=\"üìä\"\n        />\n        <KpiCard\n          label=\"Visitors\"\n          value={liveStats.uniqueVisitors || 0}\n          icon=\"üë•\"\n        />\n      </div>\n\n      {/* Period Selector */}\n      <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-bold text-[#E6E6E6]\">Traffic Overview</h3>\n          <div className=\"flex bg-[#0a0a0a] rounded-lg p-1\">\n            {(['7d', '30d', '90d'] as const).map((period) => (\n              <button\n                key={period}\n                onClick={() => setActiveTab(period)}\n                className={`px-3 py-1 text-sm rounded-md transition-colors ${activeTab === period\n                    ? 'bg-[#00C853] text-black font-bold'\n                    : 'text-[#9A9A9A] hover:text-white'\n                  }`}\n              >\n                {period}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Chart */}\n        <div className=\"h-48 w-full\" role=\"img\" aria-label=\"Traffic chart\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={chartData} margin={{ top: 5, right: 5, left: -20, bottom: 5 }}>\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                stroke=\"#222\"\n                horizontal={true}\n                vertical={false}\n              />\n              <XAxis\n                dataKey=\"date\"\n                stroke=\"#666\"\n                fontSize={12}\n                tickLine={false}\n                axisLine={{ stroke: '#333' }}\n              />\n              <YAxis\n                stroke=\"#666\"\n                fontSize={12}\n                tickLine={false}\n                axisLine={false}\n                tickFormatter={(value) => value.toLocaleString()}\n              />\n              <Tooltip content={<CustomTooltip />} />\n              <Legend content={<CustomLegend />} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"views\"\n                name=\"Views\"\n                stroke=\"#00C853\"\n                strokeWidth={2.5}\n                dot={{ r: 3, fill: '#00C853', strokeWidth: 0 }}\n                activeDot={{ r: 6, fill: '#00C853', stroke: '#0a0a0a', strokeWidth: 2 }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"clicks\"\n                name=\"Clicks\"\n                stroke=\"#E6E6E6\"\n                strokeWidth={2}\n                strokeDasharray=\"5 5\"\n                dot={false}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Top Links */}\n      <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n        <div className=\"flex justify-between items-center mb-3\">\n          <h3 className=\"text-sm font-bold text-[#9A9A9A] uppercase tracking-wider\">Top Links</h3>\n        </div>\n        <div className=\"space-y-2\">\n          {(liveStats.topLinks.length > 0 ? liveStats.topLinks : [\n            { id: 1, title: 'My Portfolio', clicks: 452, ctr: 12 },\n            { id: 2, title: 'GitHub', clicks: 320, ctr: 8 },\n            { id: 3, title: 'LinkedIn', clicks: 280, ctr: 7 },\n          ]).slice(0, 5).map((link) => (\n            <div\n              key={link.id}\n              className=\"flex items-center justify-between p-2 rounded-lg hover:bg-[#1a1a1a] transition-colors\"\n            >\n              <span className=\"text-sm text-[#E6E6E6] truncate flex-1\">{link.title}</span>\n              <div className=\"flex items-center gap-4 text-sm\">\n                <span className=\"text-[#00C853] font-medium\">{link.clicks}</span>\n                <span className=\"text-[#666] w-12 text-right\">{link.ctr}%</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction KpiCard({ label, value, icon }: { label: string; value: string | number; icon: string }) {\n  return (\n    <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n      <div className=\"flex items-center gap-2 mb-1\">\n        <span className=\"text-lg\">{icon}</span>\n        <p className=\"text-[#666] text-xs uppercase tracking-wider\">{label}</p>\n      </div>\n      <p className=\"text-2xl font-bold text-white\">\n        {typeof value === 'number' ? value.toLocaleString() : value}\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAQA,MAAM,cAA8B;IAClC,YAAY;IACZ,aAAa;IACb,gBAAgB;IAChB,UAAU,EAAE;IACZ,YAAY,EAAE;IACd,gBAAgB,EAAE;IAClB,eAAe,EAAE;AACnB;AAMA,kDAAkD;AAClD,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAO;IACpD,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,MAAM,EAAE,OAAO;IAEnD,qBACE,mRAAC;QAAI,WAAU;;0BACb,mRAAC;gBAAE,WAAU;0BAA2C;;;;;;YACvD,QAAQ,GAAG,CAAC,CAAC,MAAW,sBACvB,mRAAC;oBAAgB,WAAU;;sCACzB,mRAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,iBAAiB,KAAK,KAAK;4BAAC;;;;;;sCAEvC,mRAAC;4BAAK,WAAU;;gCAA6B,KAAK,OAAO;gCAAC;;;;;;;sCAC1D,mRAAC;4BAAK,WAAU;sCAAwB,KAAK,KAAK,CAAC,cAAc;;;;;;;mBANzD;;;;;;;;;;;AAWlB;AAEA,0BAA0B;AAC1B,MAAM,eAAe,CAAC,EAAE,OAAO,EAAO;IACpC,qBACE,mRAAC;QAAI,WAAU;kBACZ,SAAS,IAAI,CAAC,OAAY,sBACzB,mRAAC;gBAAgB,WAAU;;kCACzB,mRAAC;wBACC,WAAU;wBACV,OAAO;4BACL,iBAAiB,MAAM,KAAK;4BAC5B,aAAa,MAAM,OAAO,EAAE,kBAAkB,WAAW;wBAC3D;;;;;;kCAEF,mRAAC;wBAAK,WAAU;kCAAqC,MAAM,KAAK;;;;;;;eARxD;;;;;;;;;;AAalB;AAEe,SAAS,eAAe,EAAE,QAAQ,WAAW,EAAuB;IACjF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,sPAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,sPAAQ,EAAuB;IAEjE,4BAA4B;IAC5B,IAAA,uPAAS,EAAC;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,qCAAqC,EAAE,WAAW;gBAC3E,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,KAAK,OAAO,EAAE;oBAChB,aAAa,KAAK,IAAI;gBACxB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;YAC9C;QACF;QACA;IACF,GAAG;QAAC;KAAU;IAEd,sDAAsD;IACtD,MAAM,YAAY,UAAU,UAAU,CAAC,MAAM,GAAG,IAAI,UAAU,UAAU,GAAG;QACzE;YAAE,MAAM;YAAO,OAAO;YAAI,QAAQ;QAAG;QACrC;YAAE,MAAM;YAAO,OAAO;YAAI,QAAQ;QAAG;QACrC;YAAE,MAAM;YAAO,OAAO;YAAI,QAAQ;QAAG;QACrC;YAAE,MAAM;YAAO,OAAO;YAAK,QAAQ;QAAG;QACtC;YAAE,MAAM;YAAO,OAAO;YAAI,QAAQ;QAAG;QACrC;YAAE,MAAM;YAAO,OAAO;YAAK,QAAQ;QAAG;QACtC;YAAE,MAAM;YAAO,OAAO;YAAK,QAAQ;QAAI;KACxC;IAED,gBAAgB;IAChB,MAAM,MAAM,UAAU,UAAU,GAAG,IAC/B,CAAC,AAAC,UAAU,WAAW,GAAG,UAAU,UAAU,GAAI,GAAG,EAAE,OAAO,CAAC,KAC/D;IAEJ,qBACE,mRAAC;QAAI,WAAU;QAAY,cAAW;;0BAEpC,mRAAC;gBAAI,WAAU;;kCACb,mRAAC;wBACC,OAAM;wBACN,OAAO,UAAU,UAAU,IAAI;wBAC/B,MAAK;;;;;;kCAEP,mRAAC;wBACC,OAAM;wBACN,OAAO,UAAU,WAAW,IAAI;wBAChC,MAAK;;;;;;kCAEP,mRAAC;wBACC,OAAM;wBACN,OAAO,GAAG,IAAI,CAAC,CAAC;wBAChB,MAAK;;;;;;kCAEP,mRAAC;wBACC,OAAM;wBACN,OAAO,UAAU,cAAc,IAAI;wBACnC,MAAK;;;;;;;;;;;;0BAKT,mRAAC;gBAAI,WAAU;;kCACb,mRAAC;wBAAI,WAAU;;0CACb,mRAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,mRAAC;gCAAI,WAAU;0CACZ,AAAC;oCAAC;oCAAM;oCAAO;iCAAM,CAAW,GAAG,CAAC,CAAC,uBACpC,mRAAC;wCAEC,SAAS,IAAM,aAAa;wCAC5B,WAAW,CAAC,+CAA+C,EAAE,cAAc,SACrE,sCACA,mCACF;kDAEH;uCAPI;;;;;;;;;;;;;;;;kCAcb,mRAAC;wBAAI,WAAU;wBAAc,MAAK;wBAAM,cAAW;kCACjD,cAAA,mRAAC,+NAAmB;4BAAC,OAAM;4BAAO,QAAO;sCACvC,cAAA,mRAAC,uMAAS;gCAAC,MAAM;gCAAW,QAAQ;oCAAE,KAAK;oCAAG,OAAO;oCAAG,MAAM,CAAC;oCAAI,QAAQ;gCAAE;;kDAC3E,mRAAC,mNAAa;wCACZ,iBAAgB;wCAChB,QAAO;wCACP,YAAY;wCACZ,UAAU;;;;;;kDAEZ,mRAAC,mMAAK;wCACJ,SAAQ;wCACR,QAAO;wCACP,UAAU;wCACV,UAAU;wCACV,UAAU;4CAAE,QAAQ;wCAAO;;;;;;kDAE7B,mRAAC,mMAAK;wCACJ,QAAO;wCACP,UAAU;wCACV,UAAU;wCACV,UAAU;wCACV,eAAe,CAAC,QAAU,MAAM,cAAc;;;;;;kDAEhD,mRAAC,uMAAO;wCAAC,uBAAS,mRAAC;;;;;;;;;;kDACnB,mRAAC,qMAAM;wCAAC,uBAAS,mRAAC;;;;;;;;;;kDAClB,mRAAC,iMAAI;wCACH,MAAK;wCACL,SAAQ;wCACR,MAAK;wCACL,QAAO;wCACP,aAAa;wCACb,KAAK;4CAAE,GAAG;4CAAG,MAAM;4CAAW,aAAa;wCAAE;wCAC7C,WAAW;4CAAE,GAAG;4CAAG,MAAM;4CAAW,QAAQ;4CAAW,aAAa;wCAAE;;;;;;kDAExE,mRAAC,iMAAI;wCACH,MAAK;wCACL,SAAQ;wCACR,MAAK;wCACL,QAAO;wCACP,aAAa;wCACb,iBAAgB;wCAChB,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQf,mRAAC;gBAAI,WAAU;;kCACb,mRAAC;wBAAI,WAAU;kCACb,cAAA,mRAAC;4BAAG,WAAU;sCAA4D;;;;;;;;;;;kCAE5E,mRAAC;wBAAI,WAAU;kCACZ,CAAC,UAAU,QAAQ,CAAC,MAAM,GAAG,IAAI,UAAU,QAAQ,GAAG;4BACrD;gCAAE,IAAI;gCAAG,OAAO;gCAAgB,QAAQ;gCAAK,KAAK;4BAAG;4BACrD;gCAAE,IAAI;gCAAG,OAAO;gCAAU,QAAQ;gCAAK,KAAK;4BAAE;4BAC9C;gCAAE,IAAI;gCAAG,OAAO;gCAAY,QAAQ;gCAAK,KAAK;4BAAE;yBACjD,EAAE,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,qBAClB,mRAAC;gCAEC,WAAU;;kDAEV,mRAAC;wCAAK,WAAU;kDAA0C,KAAK,KAAK;;;;;;kDACpE,mRAAC;wCAAI,WAAU;;0DACb,mRAAC;gDAAK,WAAU;0DAA8B,KAAK,MAAM;;;;;;0DACzD,mRAAC;gDAAK,WAAU;;oDAA+B,KAAK,GAAG;oDAAC;;;;;;;;;;;;;;+BANrD,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AAc1B;AAEA,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAA2D;IAC9F,qBACE,mRAAC;QAAI,WAAU;;0BACb,mRAAC;gBAAI,WAAU;;kCACb,mRAAC;wBAAK,WAAU;kCAAW;;;;;;kCAC3B,mRAAC;wBAAE,WAAU;kCAAgD;;;;;;;;;;;;0BAE/D,mRAAC;gBAAE,WAAU;0BACV,OAAO,UAAU,WAAW,MAAM,cAAc,KAAK;;;;;;;;;;;;AAI9D"}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/SettingsPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\n// ==================== Settings Panel ====================\n\nexport function SettingsPanel() {\n  const [themeMode, setThemeMode] = useState<'auto' | 'dark'>('dark');\n\n  const copyToClipboard = () => {\n    // In real app, this would use the real hub URL\n    navigator.clipboard.writeText('https://mylinkhub.com/demo');\n    alert('Copied to clipboard!');\n  };\n\n  return (\n    <div className=\"dashboard-card p-6 space-y-8\">\n      <div>\n        <h3 className=\"text-xl font-bold text-white mb-4\">Hub Settings</h3>\n        \n        {/* Theme Toggles */}\n        <div className=\"mb-6\">\n          <label className=\"block text-[#9A9A9A] mb-2 text-sm\">Appearance</label>\n          <div className=\"flex gap-4\">\n            <button \n              onClick={() => setThemeMode('dark')}\n              className={`px-4 py-2 rounded border ${themeMode === 'dark' ? 'border-[#00C853] bg-[#00C853]/10 text-[#00C853]' : 'border-[#333] text-[#9A9A9A]'}`}\n            >\n              Force Dark\n            </button>\n            <button \n              onClick={() => setThemeMode('auto')}\n              className={`px-4 py-2 rounded border ${themeMode === 'auto' ? 'border-[#00C853] bg-[#00C853]/10 text-[#00C853]' : 'border-[#333] text-[#9A9A9A]'}`}\n            >\n              Auto Detect\n            </button>\n          </div>\n        </div>\n\n        {/* Share Actions */}\n        <div className=\"mb-6\">\n          <label className=\"block text-[#9A9A9A] mb-2 text-sm\">Share Hub</label>\n          <div className=\"flex gap-2\">\n            <button onClick={copyToClipboard} className=\"btn btn-secondary text-sm py-2 px-3\">\n              Copy URL\n            </button>\n            <button className=\"btn btn-secondary text-sm py-2 px-3\">\n              Download QR\n            </button>\n          </div>\n        </div>\n\n        {/* Danger Zone */}\n        <div className=\"border-t border-[#333] pt-6\">\n          <h4 className=\"text-red-500 font-bold mb-2\">Danger Zone</h4>\n          <button className=\"text-red-500 hover:text-red-400 text-sm underline\">\n            Delete this Hub\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ==================== Onboarding Modal ====================\n\ninterface OnboardingModalProps {\n  onClose: () => void;\n}\n\nexport function OnboardingModal({ onClose }: OnboardingModalProps) {\n  const [step, setStep] = useState(1);\n  const totalSteps = 3;\n\n  const nextStep = () => {\n    if (step < totalSteps) setStep(step + 1);\n    else onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in\">\n      <div className=\"bg-[#111] border border-[#333] p-8 rounded-2xl max-w-md w-full shadow-2xl relative\">\n        {/* Close Button */}\n        <button onClick={onClose} className=\"absolute top-4 right-4 text-[#666] hover:text-white\">‚úï</button>\n\n        {/* Progress */}\n        <div className=\"flex gap-2 mb-6\">\n          {[1, 2, 3].map(s => (\n            <div \n              key={s} \n              className={`h-1 flex-1 rounded-full ${s <= step ? 'bg-[#00C853]' : 'bg-[#333]'}`} \n            />\n          ))}\n        </div>\n\n        {/* Content */}\n        <div className=\"min-h-[200px] flex flex-col justify-center text-center\">\n          {step === 1 && (\n            <div className=\"animate-in slide-in-from-bottom-2\">\n              <div className=\"text-4xl mb-4\">üîó</div>\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Add Your Links</h2>\n              <p className=\"text-[#9A9A9A]\">Start by adding your important links. You can drag to reorder them later.</p>\n            </div>\n          )}\n          {step === 2 && (\n            <div className=\"animate-in slide-in-from-bottom-2\">\n              <div className=\"text-4xl mb-4\">üß†</div>\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Set Smart Rules</h2>\n              <p className=\"text-[#9A9A9A]\">Use rules to show links only on specific devices, locations, or times of day.</p>\n            </div>\n          )}\n          {step === 3 && (\n            <div className=\"animate-in slide-in-from-bottom-2\">\n              <div className=\"text-4xl mb-4\">üìä</div>\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Track Analytics</h2>\n              <p className=\"text-[#9A9A9A]\">See who is visiting your hub with detailed charts and click-through rates.</p>\n            </div>\n          )}\n        </div>\n\n        {/* Actions */}\n        <button onClick={nextStep} className=\"btn btn-primary w-full mt-6\">\n          {step === totalSteps ? \"Get Started\" : \"Next\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAMO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,sPAAQ,EAAkB;IAE5D,MAAM,kBAAkB;QACtB,+CAA+C;QAC/C,UAAU,SAAS,CAAC,SAAS,CAAC;QAC9B,MAAM;IACR;IAEA,qBACE,mRAAC;QAAI,WAAU;kBACb,cAAA,mRAAC;;8BACC,mRAAC;oBAAG,WAAU;8BAAoC;;;;;;8BAGlD,mRAAC;oBAAI,WAAU;;sCACb,mRAAC;4BAAM,WAAU;sCAAoC;;;;;;sCACrD,mRAAC;4BAAI,WAAU;;8CACb,mRAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,yBAAyB,EAAE,cAAc,SAAS,oDAAoD,gCAAgC;8CACnJ;;;;;;8CAGD,mRAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,yBAAyB,EAAE,cAAc,SAAS,oDAAoD,gCAAgC;8CACnJ;;;;;;;;;;;;;;;;;;8BAOL,mRAAC;oBAAI,WAAU;;sCACb,mRAAC;4BAAM,WAAU;sCAAoC;;;;;;sCACrD,mRAAC;4BAAI,WAAU;;8CACb,mRAAC;oCAAO,SAAS;oCAAiB,WAAU;8CAAsC;;;;;;8CAGlF,mRAAC;oCAAO,WAAU;8CAAsC;;;;;;;;;;;;;;;;;;8BAO5D,mRAAC;oBAAI,WAAU;;sCACb,mRAAC;4BAAG,WAAU;sCAA8B;;;;;;sCAC5C,mRAAC;4BAAO,WAAU;sCAAoD;;;;;;;;;;;;;;;;;;;;;;;AAOhF;AAQO,SAAS,gBAAgB,EAAE,OAAO,EAAwB;IAC/D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,sPAAQ,EAAC;IACjC,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,IAAI,OAAO,YAAY,QAAQ,OAAO;aACjC;IACP;IAEA,qBACE,mRAAC;QAAI,WAAU;kBACb,cAAA,mRAAC;YAAI,WAAU;;8BAEb,mRAAC;oBAAO,SAAS;oBAAS,WAAU;8BAAsD;;;;;;8BAG1F,mRAAC;oBAAI,WAAU;8BACZ;wBAAC;wBAAG;wBAAG;qBAAE,CAAC,GAAG,CAAC,CAAA,kBACb,mRAAC;4BAEC,WAAW,CAAC,wBAAwB,EAAE,KAAK,OAAO,iBAAiB,aAAa;2BAD3E;;;;;;;;;;8BAOX,mRAAC;oBAAI,WAAU;;wBACZ,SAAS,mBACR,mRAAC;4BAAI,WAAU;;8CACb,mRAAC;oCAAI,WAAU;8CAAgB;;;;;;8CAC/B,mRAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,mRAAC;oCAAE,WAAU;8CAAiB;;;;;;;;;;;;wBAGjC,SAAS,mBACR,mRAAC;4BAAI,WAAU;;8CACb,mRAAC;oCAAI,WAAU;8CAAgB;;;;;;8CAC/B,mRAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,mRAAC;oCAAE,WAAU;8CAAiB;;;;;;;;;;;;wBAGjC,SAAS,mBACR,mRAAC;4BAAI,WAAU;;8CACb,mRAAC;oCAAI,WAAU;8CAAgB;;;;;;8CAC/B,mRAAC;oCAAG,WAAU;8CAAqC;;;;;;8CACnD,mRAAC;oCAAE,WAAU;8CAAiB;;;;;;;;;;;;;;;;;;8BAMpC,mRAAC;oBAAO,SAAS;oBAAU,WAAU;8BAClC,SAAS,aAAa,gBAAgB;;;;;;;;;;;;;;;;;AAKjD"}},
    {"offset": {"line": 1765, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\n\ninterface ModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    title: string;\n    children: React.ReactNode;\n}\n\nexport function Modal({ isOpen, onClose, title, children }: ModalProps) {\n    // Close on Escape key\n    useEffect(() => {\n        const handleEscape = (e: KeyboardEvent) => {\n            if (e.key === 'Escape') onClose();\n        };\n        if (isOpen) {\n            document.addEventListener('keydown', handleEscape);\n            document.body.style.overflow = 'hidden';\n        }\n        return () => {\n            document.removeEventListener('keydown', handleEscape);\n            document.body.style.overflow = 'unset';\n        };\n    }, [isOpen, onClose]);\n\n    if (!isOpen) return null;\n\n    return (\n        <div\n            className=\"fixed inset-0 z-50 flex items-center justify-center\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"modal-title\"\n        >\n            {/* Backdrop */}\n            <div\n                className=\"absolute inset-0 bg-black/80 backdrop-blur-sm\"\n                onClick={onClose}\n                aria-hidden=\"true\"\n            />\n\n            {/* Modal Panel */}\n            <div className=\"relative z-10 w-full max-w-md mx-4 bg-[#111] border border-[#333] rounded-2xl shadow-2xl animate-modal-in\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between p-6 border-b border-[#222]\">\n                    <h2 id=\"modal-title\" className=\"text-xl font-bold text-white\">{title}</h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 rounded-lg hover:bg-[#222] text-[#9A9A9A] hover:text-white transition-colors\"\n                        aria-label=\"Close modal\"\n                    >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-6\">\n                    {children}\n                </div>\n            </div>\n        </div>\n    );\n}\n\ninterface AddLinkModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onAdd: (title: string, url: string) => void;\n}\n\nexport function AddLinkModal({ isOpen, onClose, onAdd }: AddLinkModalProps) {\n    const [title, setTitle] = useState('');\n    const [url, setUrl] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!title.trim() || !url.trim()) return;\n\n        setIsSubmitting(true);\n        try {\n            await onAdd(title, url);\n            setTitle('');\n            setUrl('');\n            onClose();\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleClose = useCallback(() => {\n        setTitle('');\n        setUrl('');\n        onClose();\n    }, [onClose]);\n\n    return (\n        <Modal isOpen={isOpen} onClose={handleClose} title=\"Add New Link\">\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                    <label htmlFor=\"link-title\" className=\"block text-sm font-medium text-[#9A9A9A] mb-2\">\n                        Title\n                    </label>\n                    <input\n                        id=\"link-title\"\n                        type=\"text\"\n                        value={title}\n                        onChange={e => setTitle(e.target.value)}\n                        placeholder=\"My Awesome Link\"\n                        className=\"w-full px-4 py-3 bg-[#0a0a0a] border border-[#333] rounded-xl text-white placeholder-[#666] focus:border-[#00C853] focus:ring-1 focus:ring-[#00C853] outline-none transition-colors\"\n                        autoFocus\n                        required\n                    />\n                </div>\n\n                <div>\n                    <label htmlFor=\"link-url\" className=\"block text-sm font-medium text-[#9A9A9A] mb-2\">\n                        URL\n                    </label>\n                    <input\n                        id=\"link-url\"\n                        type=\"url\"\n                        value={url}\n                        onChange={e => setUrl(e.target.value)}\n                        placeholder=\"https://example.com\"\n                        className=\"w-full px-4 py-3 bg-[#0a0a0a] border border-[#333] rounded-xl text-white placeholder-[#666] focus:border-[#00C853] focus:ring-1 focus:ring-[#00C853] outline-none transition-colors\"\n                        required\n                    />\n                </div>\n\n                <div className=\"flex gap-3 pt-4\">\n                    <button\n                        type=\"button\"\n                        onClick={handleClose}\n                        className=\"flex-1 px-4 py-3 bg-[#222] hover:bg-[#333] text-white rounded-xl font-medium transition-colors\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        type=\"submit\"\n                        disabled={isSubmitting || !title.trim() || !url.trim()}\n                        className=\"flex-1 px-4 py-3 bg-[#00C853] hover:bg-[#00E676] disabled:bg-[#00C853]/50 disabled:cursor-not-allowed text-black font-bold rounded-xl transition-colors\"\n                    >\n                        {isSubmitting ? 'Adding...' : 'Add Link'}\n                    </button>\n                </div>\n            </form>\n        </Modal>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2019, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { LinkWithRules } from '@/types';\nimport RuleConfigurator from '@/components/RuleConfigurator';\nimport LinkListReorder from '@/components/LinkListReorder';\nimport AnalyticsPanel from '@/components/AnalyticsPanel';\nimport { SettingsPanel, OnboardingModal } from '@/components/SettingsPanel';\nimport { AddLinkModal } from '@/components/Modal';\n\nexport default function DashboardPage() {\n  const [links, setLinks] = useState<LinkWithRules[]>([]);\n  const [selectedLink, setSelectedLink] = useState<LinkWithRules | null>(null);\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  const [showOnboarding, setShowOnboarding] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const hasFetched = useRef(false);\n\n  const fetchLinks = async () => {\n    try {\n      const res = await fetch('/api/links?hub_id=1');\n      if (!res.ok) throw new Error('Failed to fetch links');\n      const data = await res.json();\n      if (data.success) setLinks(data.data);\n    } catch (err) {\n      console.error(err);\n      setError('Failed to load links');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (hasFetched.current) return;\n    hasFetched.current = true;\n    fetchLinks();\n    if (!localStorage.getItem('hasSeenOnboarding')) {\n      setShowOnboarding(true);\n      localStorage.setItem('hasSeenOnboarding', 'true');\n    }\n  }, []);\n\n  // CRUD Handlers\n  const handleAddLink = async (title: string, url: string) => {\n    const formattedUrl = url.startsWith('http') ? url : `https://${url}`;\n    const res = await fetch('/api/links', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ hub_id: 1, title, url: formattedUrl }),\n    });\n    const data = await res.json();\n    if (data.success) {\n      setLinks([...links, data.data]);\n    } else {\n      throw new Error(data.error);\n    }\n  };\n\n  const handleReorder = (newOrder: LinkWithRules[]) => {\n    setLinks(newOrder);\n  };\n\n  const handleDeleteLink = async (id: number) => {\n    if (!confirm('Delete this link?')) return;\n    try {\n      await fetch(`/api/links?id=${id}`, { method: 'DELETE' });\n      setLinks(prev => prev.filter(l => l.id !== id));\n      if (selectedLink?.id === id) setSelectedLink(null);\n    } catch (e) {\n      alert('Error deleting link');\n    }\n  };\n\n  const handleAddRule = async (linkId: number, rule: any) => {\n    try {\n      const res = await fetch('/api/rules', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ link_id: linkId, ...rule }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setLinks(links.map(l => l.id === linkId ? { ...l, rules: [...l.rules, data.data] } : l));\n        if (selectedLink?.id === linkId) {\n          setSelectedLink(prev => prev ? { ...prev, rules: [...prev.rules, data.data] } : null);\n        }\n      }\n    } catch (err) {\n      alert('Failed to add rule');\n    }\n  };\n\n  const handleDeleteRule = async (linkId: number, ruleId: number) => {\n    try {\n      await fetch(`/api/rules?id=${ruleId}`, { method: 'DELETE' });\n      setLinks(links.map(l => l.id === linkId ? { ...l, rules: l.rules.filter(r => r.id !== ruleId) } : l));\n      if (selectedLink?.id === linkId) {\n        setSelectedLink(prev => prev ? { ...prev, rules: prev.rules.filter(r => r.id !== ruleId) } : null);\n      }\n    } catch (err) {\n      alert('Failed to delete rule');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      {/* Header with Public URL */}\n      <header className=\"sticky top-0 z-40 bg-black/90 backdrop-blur-md border-b border-[#222]\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 py-4\">\n          <div className=\"flex items-center justify-between flex-wrap gap-4\">\n            {/* Brand */}\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-[#00C853] rounded-lg flex items-center justify-center font-bold text-black text-xl\">\n                T\n              </div>\n              <div>\n                <h1 className=\"font-bold text-lg text-white\">Tannupai Hub</h1>\n                <div className=\"flex items-center gap-2 text-sm\">\n                  <span className=\"text-[#9A9A9A]\">Public URL:</span>\n                  <code className=\"text-[#00C853] bg-[#00C853]/10 px-2 py-0.5 rounded text-xs\">\n                    domain.com/demo\n                  </code>\n                </div>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={() => setIsAddModalOpen(true)}\n                className=\"px-4 py-2 bg-[#00C853] hover:bg-[#00E676] text-black font-bold rounded-lg transition-colors flex items-center gap-2\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                </svg>\n                Add Link\n              </button>\n              <a\n                href=\"/demo\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"px-4 py-2 bg-[#222] hover:bg-[#333] text-white rounded-lg transition-colors flex items-center gap-2\"\n              >\n                View Hub\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                </svg>\n              </a>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 py-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n\n          {/* LEFT: Links List */}\n          <aside className=\"lg:col-span-3 space-y-4\">\n            <div className=\"bg-[#111] rounded-xl p-4 border border-[#222]\">\n              <h2 className=\"text-[#9A9A9A] text-sm font-bold mb-4 uppercase tracking-wider flex items-center justify-between\">\n                Your Links\n                <span className=\"text-xs bg-[#222] px-2 py-1 rounded-full text-[#00C853]\">\n                  {links.length}\n                </span>\n              </h2>\n\n              {isLoading ? (\n                <div className=\"flex items-center justify-center py-12\">\n                  <div className=\"animate-spin w-8 h-8 border-2 border-[#00C853] border-t-transparent rounded-full\" />\n                </div>\n              ) : (\n                <LinkListReorder\n                  links={links}\n                  onReorder={handleReorder}\n                  onEdit={(l) => setSelectedLink(l)}\n                  onDelete={handleDeleteLink}\n                  onSelect={(l) => setSelectedLink(l)}\n                  selectedId={selectedLink?.id}\n                />\n              )}\n            </div>\n          </aside>\n\n          {/* CENTER: Rule Editor or Placeholder */}\n          <section className=\"lg:col-span-5 space-y-6\">\n            {selectedLink ? (\n              <RuleConfigurator\n                link={selectedLink}\n                onAddRule={(r) => handleAddRule(selectedLink.id, r)}\n                onDeleteRule={(rid) => handleDeleteRule(selectedLink.id, rid)}\n              />\n            ) : (\n              <div className=\"bg-[#111] rounded-xl border border-[#222] p-12 text-center flex flex-col items-center justify-center min-h-[400px]\">\n                <div className=\"text-6xl mb-4 opacity-20\">‚ö°</div>\n                <h3 className=\"text-xl font-bold text-[#E6E6E6] mb-2\">Select a link to configure</h3>\n                <p className=\"text-[#9A9A9A] max-w-xs\">\n                  Add smart rules, schedule availability, or target specific devices.\n                </p>\n              </div>\n            )}\n          </section>\n\n          {/* RIGHT: Analytics */}\n          <aside className=\"lg:col-span-4 space-y-6\">\n            <AnalyticsPanel />\n            <SettingsPanel />\n          </aside>\n        </div>\n      </main>\n\n      {/* Modals */}\n      <AddLinkModal\n        isOpen={isAddModalOpen}\n        onClose={() => setIsAddModalOpen(false)}\n        onAdd={handleAddLink}\n      />\n      {showOnboarding && <OnboardingModal onClose={() => setShowOnboarding(false)} />}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}