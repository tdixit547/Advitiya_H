{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/app/api/analytics/stats/route.ts"],"sourcesContent":["// ============================================\n// SMART LINK HUB - Analytics Stats API\n// GET /api/analytics/stats\n// ============================================\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { AnalyticsStats } from '@/types';\n\n// Demo stats data (replace with database queries in production)\nconst DEMO_STATS: AnalyticsStats = {\n  totalViews: 1250,\n  totalClicks: 487,\n  uniqueVisitors: 892,\n  topLinks: [\n    { id: 1, title: 'üåê My Website', clicks: 150, ctr: 12.0 },\n    { id: 2, title: 'üíª GitHub', clicks: 120, ctr: 9.6 },\n    { id: 3, title: 'üíº LinkedIn', clicks: 100, ctr: 8.0 },\n    { id: 4, title: 'üìÖ Join Meeting', clicks: 50, ctr: 4.0 },\n    { id: 5, title: 'üì± Download iOS App', clicks: 40, ctr: 3.2 },\n  ],\n  viewsByDay: [\n    { date: '2026-01-17', views: 145, clicks: 52 },\n    { date: '2026-01-18', views: 178, clicks: 67 },\n    { date: '2026-01-19', views: 156, clicks: 58 },\n    { date: '2026-01-20', views: 189, clicks: 72 },\n    { date: '2026-01-21', views: 201, clicks: 85 },\n    { date: '2026-01-22', views: 223, clicks: 91 },\n    { date: '2026-01-23', views: 158, clicks: 62 },\n  ],\n  viewsByCountry: [\n    { country: 'IN', count: 456 },\n    { country: 'US', count: 298 },\n    { country: 'UK', count: 156 },\n    { country: 'CA', count: 89 },\n    { country: 'DE', count: 67 },\n  ],\n  viewsByDevice: [\n    { device: 'mobile', count: 625 },\n    { device: 'desktop', count: 512 },\n    { device: 'tablet', count: 113 },\n  ],\n};\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const hubId = searchParams.get('hub_id');\n    const period = searchParams.get('period') || '7d'; // 7d, 30d, 90d\n\n    // TODO: In production, query database for actual stats\n    // const stats = await getStatsFromDatabase(hubId, period);\n\n    // For demo, return mock data\n    console.log(`[Analytics] Fetching stats for hub ${hubId}, period: ${period}`);\n\n    return NextResponse.json({\n      success: true,\n      data: DEMO_STATS,\n    });\n  } catch (error) {\n    console.error('[Analytics] Error fetching stats:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch analytics' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,+CAA+C;AAC/C,uCAAuC;AACvC,2BAA2B;AAC3B,+CAA+C;AAE/C;;AAGA,gEAAgE;AAChE,MAAM,aAA6B;IACjC,YAAY;IACZ,aAAa;IACb,gBAAgB;IAChB,UAAU;QACR;YAAE,IAAI;YAAG,OAAO;YAAiB,QAAQ;YAAK,KAAK;QAAK;QACxD;YAAE,IAAI;YAAG,OAAO;YAAa,QAAQ;YAAK,KAAK;QAAI;QACnD;YAAE,IAAI;YAAG,OAAO;YAAe,QAAQ;YAAK,KAAK;QAAI;QACrD;YAAE,IAAI;YAAG,OAAO;YAAmB,QAAQ;YAAI,KAAK;QAAI;QACxD;YAAE,IAAI;YAAG,OAAO;YAAuB,QAAQ;YAAI,KAAK;QAAI;KAC7D;IACD,YAAY;QACV;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;QAC7C;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;QAC7C;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;QAC7C;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;QAC7C;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;QAC7C;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;QAC7C;YAAE,MAAM;YAAc,OAAO;YAAK,QAAQ;QAAG;KAC9C;IACD,gBAAgB;QACd;YAAE,SAAS;YAAM,OAAO;QAAI;QAC5B;YAAE,SAAS;YAAM,OAAO;QAAI;QAC5B;YAAE,SAAS;YAAM,OAAO;QAAI;QAC5B;YAAE,SAAS;YAAM,OAAO;QAAG;QAC3B;YAAE,SAAS;YAAM,OAAO;QAAG;KAC5B;IACD,eAAe;QACb;YAAE,QAAQ;YAAU,OAAO;QAAI;QAC/B;YAAE,QAAQ;YAAW,OAAO;QAAI;QAChC;YAAE,QAAQ;YAAU,OAAO;QAAI;KAChC;AACH;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC;QAC/B,MAAM,SAAS,aAAa,GAAG,CAAC,aAAa,MAAM,eAAe;QAElE,uDAAuD;QACvD,2DAA2D;QAE3D,6BAA6B;QAC7B,QAAQ,GAAG,CAAC,CAAC,mCAAmC,EAAE,MAAM,UAAU,EAAE,QAAQ;QAE5E,OAAO,qLAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;QACR;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,OAAO,qLAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAA4B,GACrD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}