{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/app/dashboard/analytics/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n    LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer\n} from 'recharts';\n\ninterface StatsData {\n    totalViews: number;\n    totalClicks: number;\n    ctr: number;\n    uniqueVisitors: number;\n    topLinks: { id: number; title: string; clicks: number; ctr: number }[];\n    viewsByDay: { date: string; views: number }[];\n}\n\nexport default function AnalyticsPage() {\n    const [period, setPeriod] = useState<'7d' | '30d' | '90d'>('7d');\n    const [stats, setStats] = useState<StatsData | null>(null);\n\n    useEffect(() => {\n        const fetchStats = async () => {\n            try {\n                const res = await fetch(`/api/analytics/stats?hub_id=1&period=${period}`);\n                const data = await res.json();\n                if (data.success) setStats(data.data);\n            } catch (e) {\n                console.error('Failed to fetch analytics');\n            }\n        };\n        fetchStats();\n    }, [period]);\n\n    // Mock data for visualization\n    const chartData = stats?.viewsByDay?.length ? stats.viewsByDay : [\n        { date: 'Mon', views: 45 },\n        { date: 'Tue', views: 65 },\n        { date: 'Wed', views: 85 },\n        { date: 'Thu', views: 120 },\n        { date: 'Fri', views: 95 },\n        { date: 'Sat', views: 150 },\n        { date: 'Sun', views: 180 },\n    ];\n\n    const topLinks = stats?.topLinks?.length ? stats.topLinks : [\n        { id: 1, title: 'My Portfolio', clicks: 452, ctr: 12 },\n        { id: 2, title: 'GitHub', clicks: 320, ctr: 8 },\n        { id: 3, title: 'LinkedIn', clicks: 280, ctr: 7 },\n        { id: 4, title: 'Twitter', clicks: 190, ctr: 5 },\n    ];\n\n    return (\n        <div className=\"p-6 space-y-6\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between\">\n                <h1 className=\"text-2xl font-bold text-white\">Analytics</h1>\n                <div className=\"flex bg-[#111] border border-[#222] rounded-lg p-1\">\n                    {(['7d', '30d', '90d'] as const).map((p) => (\n                        <button\n                            key={p}\n                            onClick={() => setPeriod(p)}\n                            className={`px-4 py-2 text-sm rounded-md transition-colors ${period === p\n                                    ? 'bg-[#00C853] text-black font-bold'\n                                    : 'text-[#9A9A9A] hover:text-white'\n                                }`}\n                        >\n                            {p === '7d' ? '7 Days' : p === '30d' ? '30 Days' : '90 Days'}\n                        </button>\n                    ))}\n                </div>\n            </div>\n\n            {/* KPI Cards */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <KpiCard label=\"Total Views\" value={stats?.totalViews || 1245} change=\"+12%\" />\n                <KpiCard label=\"Total Clicks\" value={stats?.totalClicks || 854} change=\"+8%\" />\n                <KpiCard label=\"CTR\" value={`${stats?.ctr || 68.5}%`} change=\"\" />\n                <KpiCard label=\"Unique Visitors\" value={stats?.uniqueVisitors || 950} change=\"+15%\" />\n            </div>\n\n            {/* Traffic Chart */}\n            <div className=\"bg-[#111] rounded-xl border border-[#222] p-6\">\n                <h2 className=\"text-lg font-bold text-white mb-4\">Traffic Overview</h2>\n                <div className=\"h-64\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <LineChart data={chartData}>\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#222\" vertical={false} />\n                            <XAxis dataKey=\"date\" stroke=\"#666\" fontSize={12} tickLine={false} />\n                            <YAxis stroke=\"#666\" fontSize={12} tickLine={false} axisLine={false} />\n                            <Tooltip\n                                contentStyle={{\n                                    backgroundColor: '#111',\n                                    border: '1px solid #333',\n                                    borderRadius: '8px',\n                                }}\n                                labelStyle={{ color: '#9A9A9A' }}\n                            />\n                            <Line\n                                type=\"monotone\"\n                                dataKey=\"views\"\n                                stroke=\"#00C853\"\n                                strokeWidth={2.5}\n                                dot={{ r: 4, fill: '#00C853' }}\n                                activeDot={{ r: 6 }}\n                            />\n                        </LineChart>\n                    </ResponsiveContainer>\n                </div>\n            </div>\n\n            {/* Top Links Table */}\n            <div className=\"bg-[#111] rounded-xl border border-[#222] p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                    <h2 className=\"text-lg font-bold text-white\">Top Performing Links</h2>\n                    <button className=\"text-sm text-[#00C853] hover:text-[#00E676]\">\n                        Export CSV\n                    </button>\n                </div>\n                <table className=\"w-full\">\n                    <thead>\n                        <tr className=\"border-b border-[#222]\">\n                            <th className=\"text-left py-3 text-[#9A9A9A] text-sm font-medium\">Link Title</th>\n                            <th className=\"text-right py-3 text-[#9A9A9A] text-sm font-medium\">Clicks</th>\n                            <th className=\"text-right py-3 text-[#9A9A9A] text-sm font-medium\">CTR</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {topLinks.map((link) => (\n                            <tr key={link.id} className=\"border-b border-[#222] hover:bg-[#1a1a1a]\">\n                                <td className=\"py-3\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <span className=\"text-lg\">üåê</span>\n                                        <span className=\"text-white\">{link.title}</span>\n                                    </div>\n                                </td>\n                                <td className=\"text-right py-3 text-[#00C853] font-medium\">{link.clicks}</td>\n                                <td className=\"text-right py-3 text-[#9A9A9A]\">{link.ctr}%</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nfunction KpiCard({ label, value, change }: { label: string; value: string | number; change: string }) {\n    return (\n        <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n            <p className=\"text-[#9A9A9A] text-xs uppercase tracking-wider mb-1\">{label}</p>\n            <div className=\"flex items-baseline gap-2\">\n                <p className=\"text-2xl font-bold text-white\">{value}</p>\n                {change && (\n                    <span className=\"text-xs text-[#00C853]\">{change}</span>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}