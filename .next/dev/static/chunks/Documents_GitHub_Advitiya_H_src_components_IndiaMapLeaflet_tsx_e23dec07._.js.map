{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/IndiaMapLeaflet.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Export interface for props\nexport interface IndiaMapLeafletProps {\n    selectedState: string;\n    onStateSelect: (stateCode: string) => void;\n}\n\n// India GeoJSON source URL\nconst INDIA_GEOJSON_URL = 'https://raw.githubusercontent.com/geohacker/india/master/state/india_state.geojson';\n\n// Map state names to codes\nconst stateNameToCode: Record<string, string> = {\n    'andaman and nicobar islands': 'AN',\n    'andaman & nicobar': 'AN',\n    'andhra pradesh': 'AP',\n    'arunachal pradesh': 'AR',\n    'assam': 'AS',\n    'bihar': 'BR',\n    'chandigarh': 'CH',\n    'chhattisgarh': 'CT',\n    'dadra and nagar haveli': 'DN',\n    'dadra & nagar haveli': 'DN',\n    'daman and diu': 'DD',\n    'daman & diu': 'DD',\n    'delhi': 'DL',\n    'nct of delhi': 'DL',\n    'goa': 'GA',\n    'gujarat': 'GJ',\n    'haryana': 'HR',\n    'himachal pradesh': 'HP',\n    'jammu and kashmir': 'JK',\n    'jammu & kashmir': 'JK',\n    'jharkhand': 'JH',\n    'karnataka': 'KA',\n    'kerala': 'KL',\n    'ladakh': 'LA',\n    'lakshadweep': 'LD',\n    'madhya pradesh': 'MP',\n    'maharashtra': 'MH',\n    'manipur': 'MN',\n    'meghalaya': 'ML',\n    'mizoram': 'MZ',\n    'nagaland': 'NL',\n    'odisha': 'OR',\n    'orissa': 'OR',\n    'puducherry': 'PY',\n    'pondicherry': 'PY',\n    'punjab': 'PB',\n    'rajasthan': 'RJ',\n    'sikkim': 'SK',\n    'tamil nadu': 'TN',\n    'telangana': 'TG',\n    'tripura': 'TR',\n    'uttar pradesh': 'UP',\n    'uttarakhand': 'UK',\n    'uttaranchal': 'UK',\n    'west bengal': 'WB',\n};\n\nconst getStateCode = (name: string): string => {\n    const normalized = name.toLowerCase().trim();\n    return stateNameToCode[normalized] || '';\n};\n\nexport default function IndiaMapLeaflet({ selectedState, onStateSelect }: IndiaMapLeafletProps) {\n    const mapRef = useRef<HTMLDivElement>(null);\n    const leafletMap = useRef<L.Map | null>(null);\n    const geoJsonLayer = useRef<L.GeoJSON | null>(null);\n    const [hoveredState, setHoveredState] = useState<string | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        if (!mapRef.current || leafletMap.current) return;\n\n        // Initialize map centered on India\n        const map = L.map(mapRef.current, {\n            center: [22.5937, 78.9629],\n            zoom: 4,\n            minZoom: 3,\n            maxZoom: 8,\n            zoomControl: true,\n            attributionControl: false,\n        });\n\n        // Dark tile layer\n        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {\n            attribution: '© OpenStreetMap, © CARTO'\n        }).addTo(map);\n\n        leafletMap.current = map;\n\n        // Load GeoJSON\n        fetch(INDIA_GEOJSON_URL)\n            .then(res => res.json())\n            .then(data => {\n                const geoJson = L.geoJSON(data, {\n                    style: (feature) => {\n                        const stateName = feature?.properties?.NAME_1 || feature?.properties?.name || '';\n                        const code = getStateCode(stateName);\n                        const isSelected = code === selectedState;\n\n                        return {\n                            fillColor: isSelected ? '#00C853' : '#1a1a1a',\n                            fillOpacity: isSelected ? 0.6 : 0.8,\n                            color: isSelected ? '#00C853' : '#444',\n                            weight: isSelected ? 3 : 1,\n                        };\n                    },\n                    onEachFeature: (feature, layer) => {\n                        const stateName = feature?.properties?.NAME_1 || feature?.properties?.name || 'Unknown';\n                        const code = getStateCode(stateName);\n\n                        layer.on({\n                            mouseover: (e) => {\n                                const target = e.target;\n                                if (code !== selectedState) {\n                                    target.setStyle({\n                                        fillColor: '#00C853',\n                                        fillOpacity: 0.3,\n                                        color: '#00C853',\n                                        weight: 2,\n                                    });\n                                }\n                                setHoveredState(stateName);\n                            },\n                            mouseout: (e) => {\n                                if (geoJsonLayer.current) {\n                                    geoJsonLayer.current.resetStyle(e.target);\n                                }\n                                setHoveredState(null);\n                            },\n                            click: () => {\n                                if (code) {\n                                    onStateSelect(code);\n                                }\n                            }\n                        });\n\n                        // Bind tooltip\n                        layer.bindTooltip(stateName, {\n                            permanent: false,\n                            direction: 'center',\n                            className: 'india-state-tooltip'\n                        });\n                    }\n                }).addTo(map);\n\n                geoJsonLayer.current = geoJson;\n                setIsLoading(false);\n            })\n            .catch(err => {\n                console.error('Failed to load India GeoJSON:', err);\n                setError('Failed to load map data');\n                setIsLoading(false);\n            });\n\n        return () => {\n            if (leafletMap.current) {\n                leafletMap.current.remove();\n                leafletMap.current = null;\n            }\n        };\n    }, []);\n\n    // Update styles when selection changes\n    useEffect(() => {\n        if (geoJsonLayer.current) {\n            geoJsonLayer.current.eachLayer((layer: L.Layer) => {\n                const geoLayer = layer as L.GeoJSON;\n                const feature = (geoLayer as any).feature;\n                if (!feature) return;\n\n                const stateName = feature?.properties?.NAME_1 || feature?.properties?.name || '';\n                const code = getStateCode(stateName);\n                const isSelected = code === selectedState;\n\n                (layer as L.Path).setStyle({\n                    fillColor: isSelected ? '#00C853' : '#1a1a1a',\n                    fillOpacity: isSelected ? 0.6 : 0.8,\n                    color: isSelected ? '#00C853' : '#444',\n                    weight: isSelected ? 3 : 1,\n                });\n            });\n        }\n    }, [selectedState]);\n\n    return (\n        <div className=\"relative\">\n            <div\n                ref={mapRef}\n                className=\"w-full h-[400px] bg-[#0a1a2a]\"\n                style={{ cursor: 'pointer' }}\n            />\n\n            {/* Loading overlay */}\n            {isLoading && (\n                <div className=\"absolute inset-0 bg-[#0a0a0a]/80 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                        <div className=\"animate-spin w-8 h-8 border-2 border-[#00C853] border-t-transparent rounded-full mx-auto mb-2\" />\n                        <p className=\"text-[#666] text-sm\">Loading map...</p>\n                    </div>\n                </div>\n            )}\n\n            {/* Error overlay */}\n            {error && (\n                <div className=\"absolute inset-0 bg-[#0a0a0a]/80 flex items-center justify-center\">\n                    <p className=\"text-red-400 text-sm\">{error}</p>\n                </div>\n            )}\n\n            {/* Hovered state indicator */}\n            {hoveredState && (\n                <div className=\"absolute top-4 left-4 bg-[#111] border border-[#00C853] rounded-lg px-3 py-2 text-sm z-[1000]\">\n                    <span className=\"text-white font-medium\">{hoveredState}</span>\n                </div>\n            )}\n\n            {/* Zoom instructions */}\n            <div className=\"absolute bottom-4 right-4 text-xs text-[#666] bg-[#111]/80 px-2 py-1 rounded z-[1000]\">\n                Scroll to zoom • Drag to pan\n            </div>\n\n            {/* Custom styles for tooltip */}\n            <style jsx global>{`\n        .india-state-tooltip {\n          background: #111 !important;\n          border: 1px solid #00C853 !important;\n          color: white !important;\n          font-weight: 500;\n          padding: 4px 8px !important;\n          border-radius: 4px !important;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.5);\n        }\n        .india-state-tooltip::before {\n          display: none !important;\n        }\n        .leaflet-control-zoom {\n          border: none !important;\n        }\n        .leaflet-control-zoom a {\n          background: #111 !important;\n          color: #00C853 !important;\n          border: 1px solid #333 !important;\n        }\n        .leaflet-control-zoom a:hover {\n          background: #222 !important;\n        }\n      `}</style>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}