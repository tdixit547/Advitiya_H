{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/ClockPicker.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback, useEffect } from 'react';\n\ninterface ClockPickerProps {\n    value: number; // 0-23\n    onChange: (hour: number) => void;\n    label?: string;\n}\n\nexport default function ClockPicker({ value, onChange, label }: ClockPickerProps) {\n    const svgRef = useRef<SVGSVGElement>(null);\n    const [isDragging, setIsDragging] = useState(false);\n    const [showTooltip, setShowTooltip] = useState(false);\n\n    // Convert hour to angle (0 = 12 o'clock, clockwise)\n    const hourToAngle = (hour: number): number => {\n        // 24-hour clock: each hour is 15 degrees (360/24)\n        return (hour * 15) - 90; // -90 to start from 12 o'clock\n    };\n\n    // Convert angle to hour\n    const angleToHour = (angle: number): number => {\n        // Normalize angle to 0-360\n        let normalizedAngle = (angle + 90) % 360;\n        if (normalizedAngle < 0) normalizedAngle += 360;\n        // Each 15 degrees = 1 hour\n        return Math.round(normalizedAngle / 15) % 24;\n    };\n\n    // Get position from event\n    const getAngleFromEvent = useCallback((e: MouseEvent | TouchEvent): number => {\n        if (!svgRef.current) return 0;\n\n        const svg = svgRef.current;\n        const rect = svg.getBoundingClientRect();\n        const centerX = rect.left + rect.width / 2;\n        const centerY = rect.top + rect.height / 2;\n\n        let clientX: number, clientY: number;\n        if ('touches' in e) {\n            clientX = e.touches[0].clientX;\n            clientY = e.touches[0].clientY;\n        } else {\n            clientX = e.clientX;\n            clientY = e.clientY;\n        }\n\n        const dx = clientX - centerX;\n        const dy = clientY - centerY;\n        return Math.atan2(dy, dx) * (180 / Math.PI);\n    }, []);\n\n    // Handle drag\n    const handleMove = useCallback((e: MouseEvent | TouchEvent) => {\n        if (!isDragging) return;\n        e.preventDefault();\n        const angle = getAngleFromEvent(e);\n        const newHour = angleToHour(angle);\n        if (newHour !== value) {\n            onChange(newHour);\n        }\n    }, [isDragging, getAngleFromEvent, value, onChange]);\n\n    const handleStart = (e: React.MouseEvent | React.TouchEvent) => {\n        e.preventDefault();\n        setIsDragging(true);\n    };\n\n    const handleEnd = () => {\n        setIsDragging(false);\n    };\n\n    useEffect(() => {\n        if (isDragging) {\n            window.addEventListener('mousemove', handleMove);\n            window.addEventListener('mouseup', handleEnd);\n            window.addEventListener('touchmove', handleMove, { passive: false });\n            window.addEventListener('touchend', handleEnd);\n        }\n        return () => {\n            window.removeEventListener('mousemove', handleMove);\n            window.removeEventListener('mouseup', handleEnd);\n            window.removeEventListener('touchmove', handleMove);\n            window.removeEventListener('touchend', handleEnd);\n        };\n    }, [isDragging, handleMove]);\n\n    const angle = hourToAngle(value);\n    const handX = 50 + 30 * Math.cos(angle * Math.PI / 180);\n    const handY = 50 + 30 * Math.sin(angle * Math.PI / 180);\n\n    // Format time display\n    const displayTime = `${value.toString().padStart(2, '0')}:00`;\n    const period = value < 12 ? 'AM' : 'PM';\n    const hour12 = value === 0 ? 12 : value > 12 ? value - 12 : value;\n\n    return (\n        <div className=\"flex flex-col items-center gap-2\">\n            {label && (\n                <label className=\"text-sm text-[#9A9A9A] font-medium\">{label}</label>\n            )}\n\n            <div\n                className=\"relative\"\n                onMouseEnter={() => setShowTooltip(true)}\n                onMouseLeave={() => setShowTooltip(false)}\n            >\n                {/* Clock face */}\n                <svg\n                    ref={svgRef}\n                    width=\"120\"\n                    height=\"120\"\n                    viewBox=\"0 0 100 100\"\n                    className=\"cursor-pointer select-none\"\n                    onMouseDown={handleStart}\n                    onTouchStart={handleStart}\n                >\n                    {/* Background */}\n                    <circle cx=\"50\" cy=\"50\" r=\"48\" fill=\"#0a0a0a\" stroke=\"#333\" strokeWidth=\"2\" />\n\n                    {/* Hour markers */}\n                    {Array.from({ length: 24 }, (_, i) => {\n                        const markerAngle = (i * 15 - 90) * Math.PI / 180;\n                        const isSelected = i === value;\n                        const innerR = isSelected ? 38 : 40;\n                        const outerR = 45;\n                        const x1 = 50 + innerR * Math.cos(markerAngle);\n                        const y1 = 50 + innerR * Math.sin(markerAngle);\n                        const x2 = 50 + outerR * Math.cos(markerAngle);\n                        const y2 = 50 + outerR * Math.sin(markerAngle);\n\n                        // Only show markers for 0, 6, 12, 18\n                        const isMajor = i % 6 === 0;\n\n                        return (\n                            <g key={i}>\n                                <line\n                                    x1={x1}\n                                    y1={y1}\n                                    x2={x2}\n                                    y2={y2}\n                                    stroke={isSelected ? '#00C853' : isMajor ? '#666' : '#333'}\n                                    strokeWidth={isSelected ? 3 : isMajor ? 2 : 1}\n                                />\n                                {isMajor && (\n                                    <text\n                                        x={50 + 33 * Math.cos(markerAngle)}\n                                        y={50 + 33 * Math.sin(markerAngle)}\n                                        textAnchor=\"middle\"\n                                        dominantBaseline=\"middle\"\n                                        fill={isSelected ? '#00C853' : '#666'}\n                                        fontSize=\"8\"\n                                        fontWeight=\"bold\"\n                                    >\n                                        {i === 0 ? '0' : i}\n                                    </text>\n                                )}\n                            </g>\n                        );\n                    })}\n\n                    {/* Center dot */}\n                    <circle cx=\"50\" cy=\"50\" r=\"4\" fill=\"#00C853\" />\n\n                    {/* Hour hand */}\n                    <line\n                        x1=\"50\"\n                        y1=\"50\"\n                        x2={handX}\n                        y2={handY}\n                        stroke=\"#00C853\"\n                        strokeWidth=\"3\"\n                        strokeLinecap=\"round\"\n                        className=\"transition-all duration-100\"\n                    />\n\n                    {/* Draggable end */}\n                    <circle\n                        cx={handX}\n                        cy={handY}\n                        r=\"6\"\n                        fill=\"#00C853\"\n                        stroke=\"#fff\"\n                        strokeWidth=\"2\"\n                        className={`cursor-grab ${isDragging ? 'cursor-grabbing' : ''}`}\n                    />\n                </svg>\n\n                {/* Tooltip */}\n                {showTooltip && (\n                    <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-[#222] rounded text-xs text-white whitespace-nowrap\">\n                        Drag to select hour\n                    </div>\n                )}\n            </div>\n\n            {/* Time display */}\n            <div className=\"text-center\">\n                <span className=\"text-2xl font-bold text-white\">{displayTime}</span>\n                <span className=\"text-sm text-[#00C853] ml-1\">{period}</span>\n            </div>\n\n            {/* Keyboard fallback */}\n            <select\n                value={value}\n                onChange={(e) => onChange(parseInt(e.target.value))}\n                className=\"text-xs text-[#666] bg-transparent border border-[#333] rounded px-2 py-1 focus:border-[#00C853] outline-none\"\n                aria-label={`${label} hour selector`}\n            >\n                {Array.from({ length: 24 }, (_, i) => (\n                    <option key={i} value={i} className=\"bg-[#111]\">\n                        {i.toString().padStart(2, '0')}:00 ({i < 12 ? 'AM' : 'PM'})\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/IndiaMapPicker.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport dynamic from 'next/dynamic';\n\n// India states with ISO codes\nconst INDIA_STATES: Record<string, { name: string; lat: number; lng: number }> = {\n    'AN': { name: 'Andaman and Nicobar Islands', lat: 11.7401, lng: 92.6586 },\n    'AP': { name: 'Andhra Pradesh', lat: 15.9129, lng: 79.7400 },\n    'AR': { name: 'Arunachal Pradesh', lat: 28.2180, lng: 94.7278 },\n    'AS': { name: 'Assam', lat: 26.2006, lng: 92.9376 },\n    'BR': { name: 'Bihar', lat: 25.0961, lng: 85.3131 },\n    'CH': { name: 'Chandigarh', lat: 30.7333, lng: 76.7794 },\n    'CT': { name: 'Chhattisgarh', lat: 21.2787, lng: 81.8661 },\n    'DN': { name: 'Dadra and Nagar Haveli', lat: 20.1809, lng: 73.0169 },\n    'DD': { name: 'Daman and Diu', lat: 20.4283, lng: 72.8397 },\n    'DL': { name: 'Delhi', lat: 28.7041, lng: 77.1025 },\n    'GA': { name: 'Goa', lat: 15.2993, lng: 74.1240 },\n    'GJ': { name: 'Gujarat', lat: 22.2587, lng: 71.1924 },\n    'HR': { name: 'Haryana', lat: 29.0588, lng: 76.0856 },\n    'HP': { name: 'Himachal Pradesh', lat: 31.1048, lng: 77.1734 },\n    'JK': { name: 'Jammu and Kashmir', lat: 33.7782, lng: 76.5762 },\n    'JH': { name: 'Jharkhand', lat: 23.6102, lng: 85.2799 },\n    'KA': { name: 'Karnataka', lat: 15.3173, lng: 75.7139 },\n    'KL': { name: 'Kerala', lat: 10.8505, lng: 76.2711 },\n    'LA': { name: 'Ladakh', lat: 34.1526, lng: 77.5771 },\n    'LD': { name: 'Lakshadweep', lat: 10.5667, lng: 72.6417 },\n    'MP': { name: 'Madhya Pradesh', lat: 22.9734, lng: 78.6569 },\n    'MH': { name: 'Maharashtra', lat: 19.7515, lng: 75.7139 },\n    'MN': { name: 'Manipur', lat: 24.6637, lng: 93.9063 },\n    'ML': { name: 'Meghalaya', lat: 25.4670, lng: 91.3662 },\n    'MZ': { name: 'Mizoram', lat: 23.1645, lng: 92.9376 },\n    'NL': { name: 'Nagaland', lat: 26.1584, lng: 94.5624 },\n    'OR': { name: 'Odisha', lat: 20.9517, lng: 85.0985 },\n    'PY': { name: 'Puducherry', lat: 11.9416, lng: 79.8083 },\n    'PB': { name: 'Punjab', lat: 31.1471, lng: 75.3412 },\n    'RJ': { name: 'Rajasthan', lat: 27.0238, lng: 74.2179 },\n    'SK': { name: 'Sikkim', lat: 27.5330, lng: 88.5122 },\n    'TN': { name: 'Tamil Nadu', lat: 11.1271, lng: 78.6569 },\n    'TG': { name: 'Telangana', lat: 18.1124, lng: 79.0193 },\n    'TR': { name: 'Tripura', lat: 23.9408, lng: 91.9882 },\n    'UP': { name: 'Uttar Pradesh', lat: 26.8467, lng: 80.9462 },\n    'UK': { name: 'Uttarakhand', lat: 30.0668, lng: 79.0193 },\n    'WB': { name: 'West Bengal', lat: 22.9868, lng: 87.8550 },\n};\n\n// Export type for the map component props\nexport interface IndiaMapLeafletProps {\n    selectedState: string;\n    onStateSelect: (stateCode: string) => void;\n}\n\n// Dynamically import Map to avoid SSR issues with Leaflet\nconst MapComponent = dynamic<IndiaMapLeafletProps>(\n    () => import('./IndiaMapLeaflet').then(mod => mod.default) as any,\n    {\n        ssr: false,\n        loading: () => (\n            <div className=\"w-full h-[400px] bg-[#0a0a0a] rounded-xl flex items-center justify-center\">\n                <div className=\"animate-spin w-8 h-8 border-2 border-[#00C853] border-t-transparent rounded-full\" />\n            </div>\n        )\n    }\n);\n\ninterface IndiaMapPickerProps {\n    value: string;\n    onChange: (stateCode: string) => void;\n}\n\nexport default function IndiaMapPicker({ value, onChange }: IndiaMapPickerProps) {\n    const selectedState = INDIA_STATES[value];\n\n    return (\n        <div className=\"space-y-4\">\n            {/* Map */}\n            <div className=\"rounded-xl overflow-hidden border border-[#222]\">\n                <MapComponent\n                    selectedState={value}\n                    onStateSelect={onChange}\n                />\n            </div>\n\n            {/* Selected state display */}\n            <div className=\"flex items-center justify-between p-3 bg-[#111] border border-[#222] rounded-lg\">\n                <div className=\"flex items-center gap-3\">\n                    <span className=\"text-2xl\">üáÆüá≥</span>\n                    <div>\n                        <p className=\"text-white font-medium\">\n                            {selectedState?.name || 'Select a state'}\n                        </p>\n                        <p className=\"text-xs text-[#666]\">Click on the map or use dropdown</p>\n                    </div>\n                </div>\n                {value && (\n                    <span className=\"text-[#00C853] text-sm font-mono bg-[#00C853]/10 px-2 py-1 rounded\">\n                        {value}\n                    </span>\n                )}\n            </div>\n\n            {/* Dropdown fallback */}\n            <div>\n                <label className=\"text-xs text-[#666] block mb-1\">Or select from list:</label>\n                <select\n                    value={value}\n                    onChange={(e) => onChange(e.target.value)}\n                    className=\"w-full px-3 py-2 bg-[#0a0a0a] border border-[#333] rounded-lg text-white text-sm focus:border-[#00C853] outline-none\"\n                    aria-label=\"State selector\"\n                >\n                    <option value=\"\" className=\"bg-[#111]\">Select a state</option>\n                    {Object.entries(INDIA_STATES)\n                        .sort((a, b) => a[1].name.localeCompare(b[1].name))\n                        .map(([code, state]) => (\n                            <option key={code} value={code} className=\"bg-[#111]\">\n                                {state.name} ({code})\n                            </option>\n                        ))}\n                </select>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/RuleConfigurator.tsx"],"sourcesContent":["// ============================================\n// SMART LINK HUB - Rule Configurator Component\n// No-code UI for setting up smart rules\n// ============================================\n\n'use client';\n\nimport { useState } from 'react';\nimport { LinkWithRules, LinkRule, RuleType, RuleAction } from '@/types';\nimport ClockPicker from '@/components/ClockPicker';\nimport IndiaMapPicker from '@/components/IndiaMapPicker';\n\ninterface RuleConfiguratorProps {\n  link: LinkWithRules;\n  onAddRule: (rule: Omit<LinkRule, 'id' | 'link_id' | 'created_at'>) => void;\n  onDeleteRule: (ruleId: number) => void;\n}\n\nexport default function RuleConfigurator({\n  link,\n  onAddRule,\n  onDeleteRule,\n}: RuleConfiguratorProps) {\n  const [isAddingRule, setIsAddingRule] = useState(false);\n  const [ruleType, setRuleType] = useState<RuleType>('TIME');\n  const [action, setAction] = useState<RuleAction>('SHOW');\n\n  // Time rule state\n  const [startHour, setStartHour] = useState(9);\n  const [endHour, setEndHour] = useState(17);\n\n  // Device rule state\n  const [device, setDevice] = useState<'mobile' | 'desktop' | 'tablet'>('mobile');\n  const [os, setOs] = useState<'ios' | 'android' | 'windows' | 'macos' | ''>('');\n\n  // Location rule state\n  const [country, setCountry] = useState('IN');\n\n  const handleAddRule = () => {\n    let conditions: Record<string, unknown> = {};\n\n    switch (ruleType) {\n      case 'TIME':\n        conditions = { startHour, endHour };\n        break;\n      case 'DEVICE':\n        conditions = { device };\n        if (os) conditions.os = os;\n        break;\n      case 'LOCATION':\n        conditions = { country };\n        break;\n    }\n\n    onAddRule({\n      rule_type: ruleType,\n      conditions,\n      action,\n      is_active: true,\n    });\n\n    setIsAddingRule(false);\n    // Reset form\n    setStartHour(9);\n    setEndHour(17);\n    setDevice('mobile');\n    setOs('');\n    setCountry('IN');\n  };\n\n  const getRuleDescription = (rule: LinkRule): string => {\n    const conditions = rule.conditions as Record<string, unknown>;\n    switch (rule.rule_type) {\n      case 'TIME':\n        return `${rule.action} between ${String(conditions.startHour).padStart(2, '0')}:00 - ${String(conditions.endHour).padStart(2, '0')}:00`;\n      case 'DEVICE':\n        return `${rule.action} on ${conditions.device}${conditions.os ? ` (${conditions.os})` : ''}`;\n      case 'LOCATION':\n        return `${rule.action} in ${conditions.country}`;\n      default:\n        return 'Unknown rule';\n    }\n  };\n\n  const getRuleIcon = (type: RuleType): string => {\n    switch (type) {\n      case 'TIME': return '‚è∞';\n      case 'DEVICE': return 'üì±';\n      case 'LOCATION': return 'üåç';\n      default: return '‚öôÔ∏è';\n    }\n  };\n\n  return (\n    <div className=\"bg-[#111] rounded-xl border border-[#222] p-6 space-y-6\">\n      {/* Header */}\n      <div>\n        <h2 className=\"text-lg font-bold text-[#00C853] mb-1\">\n          Smart Rules for \"{link.title}\"\n        </h2>\n        <p className=\"text-[#666] text-sm\">\n          Configure when this link should appear based on visitor context\n        </p>\n      </div>\n\n      {/* Existing Rules */}\n      <div className=\"space-y-2\">\n        {link.rules.map((rule) => (\n          <div\n            key={rule.id}\n            className=\"flex items-center justify-between p-3 bg-[#0a0a0a] rounded-lg border border-[#222] hover:border-[#333] transition-colors\"\n          >\n            <div className=\"flex items-center gap-3 min-w-0\">\n              <span className=\"text-xl shrink-0\">{getRuleIcon(rule.rule_type)}</span>\n              <div className=\"min-w-0\">\n                <span className=\"text-xs text-[#00C853] uppercase font-medium\">\n                  {rule.rule_type}\n                </span>\n                <p className=\"text-white text-sm truncate\">{getRuleDescription(rule)}</p>\n              </div>\n            </div>\n            <button\n              onClick={() => onDeleteRule(rule.id)}\n              className=\"text-[#666] hover:text-red-400 p-2 rounded hover:bg-red-500/10 shrink-0 transition-colors\"\n              aria-label=\"Delete rule\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        ))}\n\n        {link.rules.length === 0 && !isAddingRule && (\n          <p className=\"text-[#666] text-center py-6 text-sm\">\n            No rules configured. This link is always visible.\n          </p>\n        )}\n      </div>\n\n      {/* Add Rule Form */}\n      {isAddingRule ? (\n        <div className=\"space-y-5 p-5 bg-[#0a0a0a] rounded-xl border border-[#00C853]/30\">\n          <h3 className=\"font-medium text-white\">Add New Rule</h3>\n\n          {/* Rule Type Selection */}\n          <div>\n            <label className=\"block text-[#9A9A9A] text-sm mb-2\">Rule Type</label>\n            <div className=\"flex gap-2 flex-wrap\">\n              {(['TIME', 'DEVICE', 'LOCATION'] as RuleType[]).map((type) => (\n                <button\n                  key={type}\n                  onClick={() => setRuleType(type)}\n                  className={`px-4 py-2 rounded-lg border transition-all text-sm font-medium ${ruleType === type\n                    ? 'bg-[#00C853] text-black border-[#00C853]'\n                    : 'border-[#333] text-[#9A9A9A] hover:border-[#00C853] hover:text-white'\n                    }`}\n                >\n                  {getRuleIcon(type)} {type}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Action Selection */}\n          <div>\n            <label className=\"block text-[#9A9A9A] text-sm mb-2\">Action</label>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setAction('SHOW')}\n                className={`px-4 py-2 rounded-lg border transition-all text-sm font-medium ${action === 'SHOW'\n                  ? 'bg-[#00C853] text-black border-[#00C853]'\n                  : 'border-[#333] text-[#9A9A9A] hover:border-[#00C853]'\n                  }`}\n              >\n                ‚úì SHOW only when\n              </button>\n              <button\n                onClick={() => setAction('HIDE')}\n                className={`px-4 py-2 rounded-lg border transition-all text-sm font-medium ${action === 'HIDE'\n                  ? 'bg-red-500 text-white border-red-500'\n                  : 'border-[#333] text-[#9A9A9A] hover:border-red-500'\n                  }`}\n              >\n                ‚úï HIDE when\n              </button>\n            </div>\n          </div>\n\n          {/* Condition Fields */}\n          <div className=\"pt-2\">\n            {/* TIME PICKER */}\n            {ruleType === 'TIME' && (\n              <div className=\"space-y-4\">\n                <label className=\"block text-[#9A9A9A] text-sm\">Select Time Range</label>\n                <div className=\"flex items-center justify-center gap-8 flex-wrap\">\n                  <ClockPicker\n                    value={startHour}\n                    onChange={setStartHour}\n                    label=\"Start Time\"\n                  />\n                  <div className=\"text-[#666] text-2xl\">‚Üí</div>\n                  <ClockPicker\n                    value={endHour}\n                    onChange={setEndHour}\n                    label=\"End Time\"\n                  />\n                </div>\n                <p className=\"text-center text-[#666] text-sm\">\n                  Link will be {action === 'SHOW' ? 'visible' : 'hidden'} between {startHour.toString().padStart(2, '0')}:00 and {endHour.toString().padStart(2, '0')}:00\n                </p>\n              </div>\n            )}\n\n            {/* DEVICE PICKER - keeping existing UI as requested */}\n            {ruleType === 'DEVICE' && (\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-[#9A9A9A] text-sm mb-2\">Device Type</label>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    {(['mobile', 'desktop', 'tablet'] as const).map((d) => (\n                      <button\n                        key={d}\n                        onClick={() => setDevice(d)}\n                        className={`px-4 py-3 rounded-lg border transition-all text-sm ${device === d\n                          ? 'bg-[#00C853]/20 border-[#00C853] text-[#00C853]'\n                          : 'border-[#333] text-[#9A9A9A] hover:border-[#00C853]'\n                          }`}\n                      >\n                        {d === 'mobile' ? 'üì±' : d === 'desktop' ? 'üíª' : 'üì≤'} {d}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-[#9A9A9A] text-sm mb-2\">\n                    Operating System <span className=\"text-[#666]\">(optional)</span>\n                  </label>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    <button\n                      onClick={() => setOs('')}\n                      className={`px-3 py-2 rounded-lg border text-sm ${os === '' ? 'bg-[#222] border-[#444] text-white' : 'border-[#333] text-[#666]'\n                        }`}\n                    >\n                      Any\n                    </button>\n                    {(['ios', 'android', 'windows', 'macos'] as const).map((o) => (\n                      <button\n                        key={o}\n                        onClick={() => setOs(o)}\n                        className={`px-3 py-2 rounded-lg border text-sm ${os === o\n                          ? 'bg-[#00C853]/20 border-[#00C853] text-[#00C853]'\n                          : 'border-[#333] text-[#9A9A9A] hover:border-[#00C853]'\n                          }`}\n                      >\n                        {o === 'ios' ? 'üçé' : o === 'android' ? 'ü§ñ' : o === 'windows' ? 'ü™ü' : 'üçè'} {o}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* LOCATION PICKER */}\n            {ruleType === 'LOCATION' && (\n              <div className=\"space-y-2\">\n                <label className=\"block text-[#9A9A9A] text-sm mb-2\">Select State</label>\n                <IndiaMapPicker\n                  value={country}\n                  onChange={setCountry}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-3 pt-4 border-t border-[#222]\">\n            <button\n              onClick={handleAddRule}\n              className=\"flex-1 px-4 py-2.5 bg-[#00C853] hover:bg-[#00E676] text-black font-bold rounded-lg transition-colors\"\n            >\n              Add Rule\n            </button>\n            <button\n              onClick={() => setIsAddingRule(false)}\n              className=\"px-4 py-2.5 bg-[#222] hover:bg-[#333] text-white rounded-lg transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      ) : (\n        <button\n          onClick={() => setIsAddingRule(true)}\n          className=\"w-full py-3 border-2 border-dashed border-[#333] rounded-lg text-[#666] hover:border-[#00C853] hover:text-[#00C853] transition-all flex items-center justify-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n          </svg>\n          Add Smart Rule\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1294, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/LinkListReorder.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n  useSortable\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { LinkWithRules } from '@/types';\nimport clsx from 'clsx';\n\ninterface LinkListReorderProps {\n  links: LinkWithRules[];\n  onReorder: (newOrder: LinkWithRules[]) => void;\n  onEdit: (link: LinkWithRules) => void;\n  onDelete: (id: number) => void;\n  onSelect: (link: LinkWithRules) => void;\n  selectedId: number | undefined;\n}\n\nexport default function LinkListReorder({\n  links,\n  onReorder,\n  onEdit,\n  onDelete,\n  onSelect,\n  selectedId\n}: LinkListReorderProps) {\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  function handleDragEnd(event: DragEndEvent) {\n    const { active, over } = event;\n\n    if (active.id !== over?.id) {\n      const oldIndex = links.findIndex((item) => item.id === active.id);\n      const newIndex = links.findIndex((item) => item.id === over?.id);\n\n      onReorder(arrayMove(links, oldIndex, newIndex));\n    }\n  }\n\n  if (links.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-[#666]\">\n        <p className=\"text-sm\">No links yet</p>\n        <p className=\"text-xs mt-1\">Click \"Add Link\" to create one</p>\n      </div>\n    );\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext\n        items={links.map(l => l.id)}\n        strategy={verticalListSortingStrategy}\n      >\n        <div className=\"space-y-2\" role=\"list\">\n          {links.map((link) => (\n            <SortableLinkItem\n              key={link.id}\n              link={link}\n              onEdit={() => onEdit(link)}\n              onDelete={() => onDelete(link.id)}\n              onSelect={() => onSelect(link)}\n              isSelected={selectedId === link.id}\n            />\n          ))}\n        </div>\n      </SortableContext>\n    </DndContext>\n  );\n}\n\nfunction SortableLinkItem({\n  link,\n  onEdit,\n  onDelete,\n  onSelect,\n  isSelected,\n}: {\n  link: LinkWithRules,\n  onEdit: () => void,\n  onDelete: () => void,\n  onSelect: () => void,\n  isSelected: boolean,\n}) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging\n  } = useSortable({ id: link.id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    zIndex: isDragging ? 50 : 'auto',\n    opacity: isDragging ? 0.8 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={clsx(\n        \"bg-[#0a0a0a] border rounded-lg p-3 flex items-center gap-3 group transition-all cursor-pointer\",\n        isSelected\n          ? \"border-[#00C853] ring-1 ring-[#00C853]/30 bg-[#00C853]/5\"\n          : \"border-[#222] hover:border-[#333] hover:bg-[#111]\"\n      )}\n      onClick={onSelect}\n      role=\"listitem\"\n    >\n      {/* Drag Handle */}\n      <button\n        {...attributes}\n        {...listeners}\n        className=\"cursor-grab active:cursor-grabbing p-1 text-[#444] hover:text-[#666] focus:outline-none shrink-0\"\n        aria-label=\"Drag to reorder\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <path d=\"M4 5h8v1.5H4zM4 9.5h8V11H4z\" />\n        </svg>\n      </button>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0 overflow-hidden\">\n        <h4 className={clsx(\n          \"font-medium text-sm truncate\",\n          link.is_active ? \"text-[#E6E6E6]\" : \"text-[#666] line-through\"\n        )}>\n          {link.title}\n        </h4>\n        <p className=\"text-xs text-[#666] truncate\">{link.url}</p>\n      </div>\n\n      {/* Badges & Actions */}\n      <div className=\"flex items-center gap-1 shrink-0\">\n        {link.rules.length > 0 && (\n          <span className=\"px-1.5 py-0.5 text-[10px] bg-[#00C853]/20 text-[#00C853] rounded border border-[#00C853]/30 uppercase font-medium\">\n            {link.rules.length} {link.rules.length === 1 ? 'rule' : 'rules'}\n          </span>\n        )}\n        <button\n          onClick={(e) => { e.stopPropagation(); onDelete(); }}\n          className=\"p-1.5 text-[#666] hover:text-red-400 rounded hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity\"\n          aria-label=\"Delete link\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1540, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/Modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\n\ninterface ModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    title: string;\n    children: React.ReactNode;\n}\n\nexport function Modal({ isOpen, onClose, title, children }: ModalProps) {\n    // Close on Escape key\n    useEffect(() => {\n        const handleEscape = (e: KeyboardEvent) => {\n            if (e.key === 'Escape') onClose();\n        };\n        if (isOpen) {\n            document.addEventListener('keydown', handleEscape);\n            document.body.style.overflow = 'hidden';\n        }\n        return () => {\n            document.removeEventListener('keydown', handleEscape);\n            document.body.style.overflow = 'unset';\n        };\n    }, [isOpen, onClose]);\n\n    if (!isOpen) return null;\n\n    return (\n        <div\n            className=\"fixed inset-0 z-50 flex items-center justify-center\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"modal-title\"\n        >\n            {/* Backdrop */}\n            <div\n                className=\"absolute inset-0 bg-black/80 backdrop-blur-sm\"\n                onClick={onClose}\n                aria-hidden=\"true\"\n            />\n\n            {/* Modal Panel */}\n            <div className=\"relative z-10 w-full max-w-md mx-4 bg-[#111] border border-[#333] rounded-2xl shadow-2xl animate-modal-in\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between p-6 border-b border-[#222]\">\n                    <h2 id=\"modal-title\" className=\"text-xl font-bold text-white\">{title}</h2>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 rounded-lg hover:bg-[#222] text-[#9A9A9A] hover:text-white transition-colors\"\n                        aria-label=\"Close modal\"\n                    >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-6\">\n                    {children}\n                </div>\n            </div>\n        </div>\n    );\n}\n\ninterface AddLinkModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onAdd: (title: string, url: string) => void;\n}\n\nexport function AddLinkModal({ isOpen, onClose, onAdd }: AddLinkModalProps) {\n    const [title, setTitle] = useState('');\n    const [url, setUrl] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!title.trim() || !url.trim()) return;\n\n        setIsSubmitting(true);\n        try {\n            await onAdd(title, url);\n            setTitle('');\n            setUrl('');\n            onClose();\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleClose = useCallback(() => {\n        setTitle('');\n        setUrl('');\n        onClose();\n    }, [onClose]);\n\n    return (\n        <Modal isOpen={isOpen} onClose={handleClose} title=\"Add New Link\">\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                    <label htmlFor=\"link-title\" className=\"block text-sm font-medium text-[#9A9A9A] mb-2\">\n                        Title\n                    </label>\n                    <input\n                        id=\"link-title\"\n                        type=\"text\"\n                        value={title}\n                        onChange={e => setTitle(e.target.value)}\n                        placeholder=\"My Awesome Link\"\n                        className=\"w-full px-4 py-3 bg-[#0a0a0a] border border-[#333] rounded-xl text-white placeholder-[#666] focus:border-[#00C853] focus:ring-1 focus:ring-[#00C853] outline-none transition-colors\"\n                        autoFocus\n                        required\n                    />\n                </div>\n\n                <div>\n                    <label htmlFor=\"link-url\" className=\"block text-sm font-medium text-[#9A9A9A] mb-2\">\n                        URL\n                    </label>\n                    <input\n                        id=\"link-url\"\n                        type=\"url\"\n                        value={url}\n                        onChange={e => setUrl(e.target.value)}\n                        placeholder=\"https://example.com\"\n                        className=\"w-full px-4 py-3 bg-[#0a0a0a] border border-[#333] rounded-xl text-white placeholder-[#666] focus:border-[#00C853] focus:ring-1 focus:ring-[#00C853] outline-none transition-colors\"\n                        required\n                    />\n                </div>\n\n                <div className=\"flex gap-3 pt-4\">\n                    <button\n                        type=\"button\"\n                        onClick={handleClose}\n                        className=\"flex-1 px-4 py-3 bg-[#222] hover:bg-[#333] text-white rounded-xl font-medium transition-colors\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        type=\"submit\"\n                        disabled={isSubmitting || !title.trim() || !url.trim()}\n                        className=\"flex-1 px-4 py-3 bg-[#00C853] hover:bg-[#00E676] disabled:bg-[#00C853]/50 disabled:cursor-not-allowed text-black font-bold rounded-xl transition-colors\"\n                    >\n                        {isSubmitting ? 'Adding...' : 'Add Link'}\n                    </button>\n                </div>\n            </form>\n        </Modal>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1815, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { LinkWithRules } from '@/types';\nimport RuleConfigurator from '@/components/RuleConfigurator';\nimport LinkListReorder from '@/components/LinkListReorder';\nimport { AddLinkModal } from '@/components/Modal';\n\nexport default function LinksPage() {\n  const [links, setLinks] = useState<LinkWithRules[]>([]);\n  const [selectedLink, setSelectedLink] = useState<LinkWithRules | null>(null);\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const hasFetched = useRef(false);\n\n  const fetchLinks = async () => {\n    try {\n      const res = await fetch('/api/links?hub_id=1');\n      if (!res.ok) throw new Error('Failed to fetch links');\n      const data = await res.json();\n      if (data.success) setLinks(data.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (hasFetched.current) return;\n    hasFetched.current = true;\n    fetchLinks();\n  }, []);\n\n  const handleAddLink = async (title: string, url: string) => {\n    const formattedUrl = url.startsWith('http') ? url : `https://${url}`;\n    const res = await fetch('/api/links', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ hub_id: 1, title, url: formattedUrl }),\n    });\n    const data = await res.json();\n    if (data.success) {\n      setLinks([...links, data.data]);\n    } else {\n      throw new Error(data.error);\n    }\n  };\n\n  const handleDeleteLink = async (id: number) => {\n    if (!confirm('Delete this link?')) return;\n    try {\n      await fetch(`/api/links?id=${id}`, { method: 'DELETE' });\n      setLinks(prev => prev.filter(l => l.id !== id));\n      if (selectedLink?.id === id) setSelectedLink(null);\n    } catch (e) {\n      alert('Error deleting link');\n    }\n  };\n\n  const handleAddRule = async (linkId: number, rule: any) => {\n    try {\n      const res = await fetch('/api/rules', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ link_id: linkId, ...rule }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setLinks(links.map(l => l.id === linkId ? { ...l, rules: [...l.rules, data.data] } : l));\n        if (selectedLink?.id === linkId) {\n          setSelectedLink(prev => prev ? { ...prev, rules: [...prev.rules, data.data] } : null);\n        }\n      }\n    } catch (err) {\n      alert('Failed to add rule');\n    }\n  };\n\n  const handleDeleteRule = async (linkId: number, ruleId: number) => {\n    try {\n      await fetch(`/api/rules?id=${ruleId}`, { method: 'DELETE' });\n      setLinks(links.map(l => l.id === linkId ? { ...l, rules: l.rules.filter(r => r.id !== ruleId) } : l));\n      if (selectedLink?.id === linkId) {\n        setSelectedLink(prev => prev ? { ...prev, rules: prev.rules.filter(r => r.id !== ruleId) } : null);\n      }\n    } catch (err) {\n      alert('Failed to delete rule');\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6\">\n      {/* Links List */}\n      <aside className=\"lg:col-span-4 xl:col-span-3\">\n        <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-sm font-bold text-[#9A9A9A] uppercase tracking-wider\">\n              Your Links\n            </h2>\n            <button\n              onClick={() => setIsAddModalOpen(true)}\n              className=\"px-3 py-1.5 bg-[#00C853] hover:bg-[#00E676] text-black text-xs font-bold rounded-lg transition-colors flex items-center gap-1\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Add\n            </button>\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"animate-spin w-6 h-6 border-2 border-[#00C853] border-t-transparent rounded-full\" />\n            </div>\n          ) : (\n            <LinkListReorder\n              links={links}\n              onReorder={setLinks}\n              onEdit={(l) => setSelectedLink(l)}\n              onDelete={handleDeleteLink}\n              onSelect={(l) => setSelectedLink(l)}\n              selectedId={selectedLink?.id}\n            />\n          )}\n        </div>\n      </aside>\n\n      {/* Rule Editor */}\n      <section className=\"lg:col-span-8 xl:col-span-9\">\n        {selectedLink ? (\n          <RuleConfigurator\n            link={selectedLink}\n            onAddRule={(r) => handleAddRule(selectedLink.id, r)}\n            onDeleteRule={(rid) => handleDeleteRule(selectedLink.id, rid)}\n          />\n        ) : (\n          <div className=\"bg-[#111] rounded-xl border border-[#222] p-12 text-center flex flex-col items-center justify-center min-h-[400px]\">\n            <div className=\"text-5xl mb-4 opacity-20\">‚ö°</div>\n            <h3 className=\"text-lg font-bold text-[#E6E6E6] mb-2\">Select a link to configure</h3>\n            <p className=\"text-sm text-[#666] max-w-xs\">\n              Add smart rules to control when and how your links appear based on time, device, or location.\n            </p>\n          </div>\n        )}\n      </section>\n\n      {/* Modal */}\n      <AddLinkModal\n        isOpen={isAddModalOpen}\n        onClose={() => setIsAddModalOpen(false)}\n        onAdd={handleAddLink}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}