{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/RuleConfigurator.tsx"],"sourcesContent":["// ============================================\n// SMART LINK HUB - Rule Configurator Component\n// No-code UI for setting up smart rules\n// ============================================\n\n'use client';\n\nimport { useState } from 'react';\nimport { LinkWithRules, LinkRule, RuleType, RuleAction } from '@/types';\n\ninterface RuleConfiguratorProps {\n  link: LinkWithRules;\n  onAddRule: (rule: Omit<LinkRule, 'id' | 'link_id' | 'created_at'>) => void;\n  onDeleteRule: (ruleId: number) => void;\n}\n\nexport default function RuleConfigurator({\n  link,\n  onAddRule,\n  onDeleteRule,\n}: RuleConfiguratorProps) {\n  const [isAddingRule, setIsAddingRule] = useState(false);\n  const [ruleType, setRuleType] = useState<RuleType>('TIME');\n  const [action, setAction] = useState<RuleAction>('SHOW');\n\n  // Time rule state\n  const [startHour, setStartHour] = useState(9);\n  const [endHour, setEndHour] = useState(17);\n\n  // Device rule state\n  const [device, setDevice] = useState<'mobile' | 'desktop'>('mobile');\n  const [os, setOs] = useState<'ios' | 'android' | ''>('');\n\n  // Location rule state\n  const [country, setCountry] = useState('IN');\n\n  const handleAddRule = () => {\n    let conditions: Record<string, unknown> = {};\n\n    switch (ruleType) {\n      case 'TIME':\n        conditions = { startHour, endHour };\n        break;\n      case 'DEVICE':\n        conditions = { device };\n        if (os) conditions.os = os;\n        break;\n      case 'LOCATION':\n        conditions = { country };\n        break;\n    }\n\n    onAddRule({\n      rule_type: ruleType,\n      conditions,\n      action,\n      is_active: true,\n    });\n\n    setIsAddingRule(false);\n    // Reset form\n    setStartHour(9);\n    setEndHour(17);\n    setDevice('mobile');\n    setOs('');\n    setCountry('IN');\n  };\n\n  const getRuleDescription = (rule: LinkRule): string => {\n    const conditions = rule.conditions as Record<string, unknown>;\n    switch (rule.rule_type) {\n      case 'TIME':\n        return `${rule.action} between ${conditions.startHour}:00 - ${conditions.endHour}:00`;\n      case 'DEVICE':\n        return `${rule.action} on ${conditions.device}${conditions.os ? ` (${conditions.os})` : ''}`;\n      case 'LOCATION':\n        return `${rule.action} in ${conditions.country}`;\n      default:\n        return 'Unknown rule';\n    }\n  };\n\n  const getRuleIcon = (type: RuleType): string => {\n    switch (type) {\n      case 'TIME':\n        return '‚è∞';\n      case 'DEVICE':\n        return 'üì±';\n      case 'LOCATION':\n        return 'üåç';\n      default:\n        return '‚öôÔ∏è';\n    }\n  };\n\n  return (\n    <div className=\"dashboard-card p-6 space-y-6\">\n      <div>\n        <h2 className=\"text-xl font-semibold text-[#00FF00] mb-1\">\n          Smart Rules for \"{link.title}\"\n        </h2>\n        <p className=\"text-gray-500 text-sm\">\n          Configure when this link should appear based on visitor context\n        </p>\n      </div>\n\n      {/* Existing Rules */}\n      <div className=\"space-y-3\">\n        {link.rules.map((rule) => (\n          <div\n            key={rule.id}\n            className=\"flex items-center justify-between p-3 bg-black/50 rounded-lg border border-gray-800\"\n          >\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-2xl\">{getRuleIcon(rule.rule_type)}</span>\n              <div>\n                <span className=\"text-xs text-[#00FF00] uppercase font-medium\">\n                  {rule.rule_type}\n                </span>\n                <p className=\"text-white\">{getRuleDescription(rule)}</p>\n              </div>\n            </div>\n            <button\n              onClick={() => onDeleteRule(rule.id)}\n              className=\"text-red-500 hover:text-red-400 p-2\"\n            >\n              ‚úï\n            </button>\n          </div>\n        ))}\n\n        {link.rules.length === 0 && !isAddingRule && (\n          <p className=\"text-gray-500 text-center py-4\">\n            No rules configured. This link is always visible.\n          </p>\n        )}\n      </div>\n\n      {/* Add Rule Form */}\n      {isAddingRule ? (\n        <div className=\"space-y-4 p-4 bg-black/50 rounded-lg border border-[#00FF00]/30\">\n          <h3 className=\"font-medium text-white\">Add New Rule</h3>\n\n          {/* Rule Type Selection */}\n          <div>\n            <label className=\"block text-gray-400 text-sm mb-2\">Rule Type</label>\n            <div className=\"flex gap-2\">\n              {(['TIME', 'DEVICE', 'LOCATION'] as RuleType[]).map((type) => (\n                <button\n                  key={type}\n                  onClick={() => setRuleType(type)}\n                  className={`px-4 py-2 rounded-lg border transition-all ${\n                    ruleType === type\n                      ? 'bg-[#00FF00] text-black border-[#00FF00]'\n                      : 'border-gray-600 text-gray-400 hover:border-[#00FF00]'\n                  }`}\n                >\n                  {getRuleIcon(type)} {type}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Action Selection */}\n          <div>\n            <label className=\"block text-gray-400 text-sm mb-2\">Action</label>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setAction('SHOW')}\n                className={`px-4 py-2 rounded-lg border transition-all ${\n                  action === 'SHOW'\n                    ? 'bg-[#00FF00] text-black border-[#00FF00]'\n                    : 'border-gray-600 text-gray-400 hover:border-[#00FF00]'\n                }`}\n              >\n                SHOW only when\n              </button>\n              <button\n                onClick={() => setAction('HIDE')}\n                className={`px-4 py-2 rounded-lg border transition-all ${\n                  action === 'HIDE'\n                    ? 'bg-red-500 text-white border-red-500'\n                    : 'border-gray-600 text-gray-400 hover:border-red-500'\n                }`}\n              >\n                HIDE when\n              </button>\n            </div>\n          </div>\n\n          {/* Condition Fields */}\n          <div className=\"pt-2\">\n            {ruleType === 'TIME' && (\n              <div className=\"flex gap-4 items-center\">\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Start Hour</label>\n                  <select\n                    value={startHour}\n                    onChange={(e) => setStartHour(parseInt(e.target.value))}\n                    className=\"w-24\"\n                  >\n                    {Array.from({ length: 24 }, (_, i) => (\n                      <option key={i} value={i}>\n                        {i.toString().padStart(2, '0')}:00\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <span className=\"text-gray-500 mt-6\">to</span>\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">End Hour</label>\n                  <select\n                    value={endHour}\n                    onChange={(e) => setEndHour(parseInt(e.target.value))}\n                    className=\"w-24\"\n                  >\n                    {Array.from({ length: 24 }, (_, i) => (\n                      <option key={i} value={i}>\n                        {i.toString().padStart(2, '0')}:00\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            )}\n\n            {ruleType === 'DEVICE' && (\n              <div className=\"flex gap-4\">\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">Device</label>\n                  <select\n                    value={device}\n                    onChange={(e) => setDevice(e.target.value as 'mobile' | 'desktop')}\n                    className=\"w-32\"\n                  >\n                    <option value=\"mobile\">Mobile</option>\n                    <option value=\"desktop\">Desktop</option>\n                    <option value=\"tablet\">Tablet</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-gray-400 text-sm mb-1\">\n                    OS (Optional)\n                  </label>\n                  <select\n                    value={os}\n                    onChange={(e) => setOs(e.target.value as 'ios' | 'android' | '')}\n                    className=\"w-32\"\n                  >\n                    <option value=\"\">Any</option>\n                    <option value=\"ios\">iOS</option>\n                    <option value=\"android\">Android</option>\n                    <option value=\"windows\">Windows</option>\n                    <option value=\"macos\">macOS</option>\n                  </select>\n                </div>\n              </div>\n            )}\n\n            {ruleType === 'LOCATION' && (\n              <div>\n                <label className=\"block text-gray-400 text-sm mb-1\">Country</label>\n                <select\n                  value={country}\n                  onChange={(e) => setCountry(e.target.value)}\n                  className=\"w-48\"\n                >\n                  <option value=\"IN\">üáÆüá≥ India</option>\n                  <option value=\"US\">üá∫üá∏ United States</option>\n                  <option value=\"UK\">üá¨üáß United Kingdom</option>\n                  <option value=\"CA\">üá®üá¶ Canada</option>\n                  <option value=\"DE\">üá©üá™ Germany</option>\n                  <option value=\"AU\">üá¶üá∫ Australia</option>\n                  <option value=\"FR\">üá´üá∑ France</option>\n                  <option value=\"JP\">üáØüáµ Japan</option>\n                </select>\n              </div>\n            )}\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-3 pt-2\">\n            <button onClick={handleAddRule} className=\"btn btn-primary\">\n              Add Rule\n            </button>\n            <button\n              onClick={() => setIsAddingRule(false)}\n              className=\"btn btn-secondary\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      ) : (\n        <button\n          onClick={() => setIsAddingRule(true)}\n          className=\"w-full py-3 border-2 border-dashed border-gray-700 rounded-lg text-gray-400 hover:border-[#00FF00] hover:text-[#00FF00] transition-all\"\n        >\n          + Add Smart Rule\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 671, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/LinkListReorder.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n  useSortable\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { LinkWithRules } from '@/types';\n\ninterface LinkListReorderProps {\n  links: LinkWithRules[];\n  onReorder: (newOrder: LinkWithRules[]) => void;\n  onEdit: (link: LinkWithRules) => void;\n  onDelete: (id: number) => void;\n  onSelect: (link: LinkWithRules) => void;\n  selectedId: number | undefined;\n}\n\nexport default function LinkListReorder({\n  links,\n  onReorder,\n  onEdit,\n  onDelete,\n  onSelect,\n  selectedId\n}: LinkListReorderProps) {\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n\n  function handleDragEnd(event: DragEndEvent) {\n    const { active, over } = event;\n\n    if (active.id !== over?.id) {\n      const oldIndex = links.findIndex((item) => item.id === active.id);\n      const newIndex = links.findIndex((item) => item.id === over?.id);\n\n      onReorder(arrayMove(links, oldIndex, newIndex));\n    }\n  }\n\n  if (links.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-[#666]\">\n        <p className=\"text-sm\">No links yet</p>\n        <p className=\"text-xs mt-1\">Click \"+ Add New Link\" to create one</p>\n      </div>\n    );\n  }\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext\n        items={links.map(l => l.id)}\n        strategy={verticalListSortingStrategy}\n      >\n        <div className=\"space-y-2\" role=\"list\">\n          {links.map((link) => (\n            <SortableLinkItem\n              key={link.id}\n              link={link}\n              onEdit={() => onEdit(link)}\n              onDelete={() => onDelete(link.id)}\n              onSelect={() => onSelect(link)}\n              isSelected={selectedId === link.id}\n            />\n          ))}\n        </div>\n      </SortableContext>\n    </DndContext>\n  );\n}\n\nfunction SortableLinkItem({\n  link,\n  onEdit,\n  onDelete,\n  onSelect,\n  isSelected,\n}: {\n  link: LinkWithRules,\n  onEdit: () => void,\n  onDelete: () => void,\n  onSelect: () => void,\n  isSelected: boolean,\n}) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging\n  } = useSortable({ id: link.id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    zIndex: isDragging ? 50 : 'auto',\n    opacity: isDragging ? 0.8 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className={`bg-[#0a0a0a] border rounded-lg p-3 flex items-center gap-3 group transition-all cursor-pointer ${isSelected\n          ? 'border-[#00C853] bg-[#00C853]/5'\n          : 'border-[#222] hover:border-[#333]'\n        }`}\n      onClick={onSelect}\n    >\n      {/* Drag Handle */}\n      <button\n        {...attributes}\n        {...listeners}\n        className=\"cursor-grab active:cursor-grabbing p-1 text-[#444] hover:text-[#666]\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <svg width=\"12\" height=\"12\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <path d=\"M4 5h8v1.5H4zM4 9.5h8V11H4z\" />\n        </svg>\n      </button>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <h4 className={`font-medium text-sm truncate ${link.is_active ? 'text-white' : 'text-[#666] line-through'\n          }`}>\n          {link.title}\n        </h4>\n        <p className=\"text-xs text-[#666] truncate\">{link.url}</p>\n      </div>\n\n      {/* Rule badges */}\n      {link.rules.length > 0 && (\n        <div className=\"flex gap-1\">\n          {link.rules.slice(0, 2).map((rule, i) => (\n            <span\n              key={i}\n              className=\"px-1.5 py-0.5 text-[10px] bg-[#00C853]/20 text-[#00C853] rounded uppercase font-medium\"\n            >\n              {rule.rule_type}\n            </span>\n          ))}\n        </div>\n      )}\n\n      {/* Actions */}\n      <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100\">\n        <button\n          onClick={(e) => { e.stopPropagation(); onEdit(); }}\n          className=\"p-1.5 text-[#666] hover:text-white\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n          </svg>\n        </button>\n        <button\n          onClick={(e) => { e.stopPropagation(); onDelete(); }}\n          className=\"p-1.5 text-[#666] hover:text-red-400\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 946, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/components/AnalyticsPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer\n} from 'recharts';\n\ninterface AnalyticsPanelProps {\n  hubId?: number;\n}\n\nexport default function AnalyticsPanel({ hubId = 1 }: AnalyticsPanelProps) {\n  const [stats, setStats] = useState({\n    totalViews: 1245,\n    totalClicks: 854,\n    ctr: 68.5,\n    uniqueVisitors: 950,\n  });\n\n  const chartData = [\n    { date: 'Mon', views: 45 },\n    { date: 'Tue', views: 65 },\n    { date: 'Wed', views: 85 },\n    { date: 'Thu', views: 120 },\n    { date: 'Fri', views: 95 },\n    { date: 'Sat', views: 150 },\n    { date: 'Sun', views: 180 },\n  ];\n\n  const topLinks = [\n    { id: 1, title: 'My Portfolio', clicks: 452, ctr: 12 },\n    { id: 2, title: 'GitHub', clicks: 320, ctr: 8 },\n  ];\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const res = await fetch(`/api/analytics/stats?hub_id=${hubId}`);\n        const data = await res.json();\n        if (data.success && data.data) {\n          setStats({\n            totalViews: data.data.totalViews || 0,\n            totalClicks: data.data.totalClicks || 0,\n            ctr: data.data.totalViews > 0\n              ? ((data.data.totalClicks / data.data.totalViews) * 100).toFixed(1)\n              : 0,\n            uniqueVisitors: data.data.uniqueVisitors || 0,\n          });\n        }\n      } catch (e) {\n        console.error('Failed to fetch stats');\n      }\n    };\n    fetchStats();\n  }, [hubId]);\n\n  return (\n    <div className=\"space-y-4\">\n      {/* KPI Row */}\n      <div className=\"grid grid-cols-4 gap-2\">\n        <div className=\"bg-[#111] rounded-lg p-3 border border-[#222]\">\n          <p className=\"text-[#9A9A9A] text-[10px] uppercase\">Total Views</p>\n          <p className=\"text-lg font-bold text-white\">{stats.totalViews}</p>\n          <span className=\"text-[10px] text-[#00C853]\">+12%</span>\n        </div>\n        <div className=\"bg-[#111] rounded-lg p-3 border border-[#222]\">\n          <p className=\"text-[#9A9A9A] text-[10px] uppercase\">Total Clicks</p>\n          <p className=\"text-lg font-bold text-white\">{stats.totalClicks}</p>\n          <span className=\"text-[10px] text-[#00C853]\">+8%</span>\n        </div>\n        <div className=\"bg-[#111] rounded-lg p-3 border border-[#222]\">\n          <p className=\"text-[#9A9A9A] text-[10px] uppercase\">CTR</p>\n          <p className=\"text-lg font-bold text-white\">{stats.ctr}%</p>\n        </div>\n        <div className=\"bg-[#111] rounded-lg p-3 border border-[#222]\">\n          <p className=\"text-[#9A9A9A] text-[10px] uppercase\">Visitors</p>\n          <p className=\"text-lg font-bold text-white\">{stats.uniqueVisitors}</p>\n          <span className=\"text-[10px] text-[#00C853]\">+15%</span>\n        </div>\n      </div>\n\n      {/* Traffic Chart */}\n      <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n        <h3 className=\"text-sm font-bold text-white mb-3\">Traffic Overview</h3>\n        <div className=\"h-40\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={chartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#222\" vertical={false} />\n              <XAxis dataKey=\"date\" stroke=\"#666\" fontSize={10} tickLine={false} />\n              <YAxis stroke=\"#666\" fontSize={10} tickLine={false} axisLine={false} />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: '#111',\n                  border: '1px solid #333',\n                  borderRadius: '6px',\n                  fontSize: '12px',\n                }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"views\"\n                stroke=\"#00C853\"\n                strokeWidth={2}\n                dot={{ r: 3, fill: '#00C853' }}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Top Links */}\n      <div className=\"bg-[#111] rounded-xl border border-[#222] p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-sm font-bold text-white\">Top Performing Links</h3>\n          <button className=\"text-[10px] text-[#00C853] hover:text-[#00E676]\">\n            Export CSV\n          </button>\n        </div>\n        <div className=\"space-y-2\">\n          {topLinks.map((link) => (\n            <div key={link.id} className=\"flex items-center justify-between py-2 border-b border-[#222] last:border-0\">\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm\">üåê</span>\n                <span className=\"text-sm text-white\">{link.title}</span>\n              </div>\n              <div className=\"flex items-center gap-4 text-sm\">\n                <span className=\"text-[#00C853] font-medium\">{link.clicks}</span>\n                <span className=\"text-[#9A9A9A] w-10 text-right\">{link.ctr}%</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1397, "column": 0}, "map": {"version":3,"sources":["file:///Users/grover.heer/Documents/GitHub/Advitiya_H/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { LinkWithRules } from '@/types';\nimport RuleConfigurator from '@/components/RuleConfigurator';\nimport LinkListReorder from '@/components/LinkListReorder';\nimport AnalyticsPanel from '@/components/AnalyticsPanel';\n\nexport default function DashboardPage() {\n  const [links, setLinks] = useState<LinkWithRules[]>([]);\n  const [selectedLink, setSelectedLink] = useState<LinkWithRules | null>(null);\n  const [isAddingLink, setIsAddingLink] = useState(false);\n  const [newLink, setNewLink] = useState({ title: '', url: '' });\n  const [isLoading, setIsLoading] = useState(true);\n\n  const hasFetched = useRef(false);\n\n  useEffect(() => {\n    if (hasFetched.current) return;\n    hasFetched.current = true;\n    fetchLinks();\n  }, []);\n\n  const fetchLinks = async () => {\n    try {\n      const res = await fetch('/api/links?hub_id=1');\n      if (!res.ok) throw new Error('Failed to fetch links');\n      const data = await res.json();\n      if (data.success) setLinks(data.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAddLink = async () => {\n    if (!newLink.title || !newLink.url) return;\n    try {\n      const formattedUrl = newLink.url.startsWith('http') ? newLink.url : `https://${newLink.url}`;\n      const res = await fetch('/api/links', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ hub_id: 1, title: newLink.title, url: formattedUrl }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setLinks([...links, data.data]);\n        setNewLink({ title: '', url: '' });\n        setIsAddingLink(false);\n      }\n    } catch (err) {\n      alert('Failed to add link');\n    }\n  };\n\n  const handleReorder = (newOrder: LinkWithRules[]) => {\n    setLinks(newOrder);\n  };\n\n  const handleDeleteLink = async (id: number) => {\n    if (!confirm('Delete link?')) return;\n    try {\n      await fetch(`/api/links?id=${id}`, { method: 'DELETE' });\n      setLinks(prev => prev.filter(l => l.id !== id));\n      if (selectedLink?.id === id) setSelectedLink(null);\n    } catch (e) {\n      alert('Error deleting');\n    }\n  };\n\n  const handleAddRule = async (linkId: number, rule: any) => {\n    try {\n      const res = await fetch('/api/rules', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ link_id: linkId, ...rule }),\n      });\n      const data = await res.json();\n      if (data.success) {\n        setLinks(links.map(l => l.id === linkId ? { ...l, rules: [...l.rules, data.data] } : l));\n        if (selectedLink?.id === linkId) {\n          setSelectedLink(prev => prev ? { ...prev, rules: [...prev.rules, data.data] } : null);\n        }\n      }\n    } catch (err) {\n      alert('Failed to add rule');\n    }\n  };\n\n  const handleDeleteRule = async (linkId: number, ruleId: number) => {\n    try {\n      await fetch(`/api/rules?id=${ruleId}`, { method: 'DELETE' });\n      setLinks(links.map(l => l.id === linkId ? { ...l, rules: l.rules.filter(r => r.id !== ruleId) } : l));\n      if (selectedLink?.id === linkId) {\n        setSelectedLink(prev => prev ? { ...prev, rules: prev.rules.filter(r => r.id !== ruleId) } : null);\n      }\n    } catch (err) {\n      alert('Failed to delete rule');\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 p-6\">\n\n      {/* LEFT COLUMN: Link Management */}\n      <div className=\"lg:col-span-3 space-y-6\">\n        {/* Hub Title */}\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-[#00C853] rounded-lg flex items-center justify-center font-bold text-black text-xl\">\n            T\n          </div>\n          <h1 className=\"font-bold text-xl text-white\">Tannupai Hub</h1>\n        </div>\n\n        {/* Add Link Button */}\n        <button\n          onClick={() => setIsAddingLink(true)}\n          className=\"w-full py-3 bg-[#00C853] hover:bg-[#00E676] text-black font-bold rounded-lg transition-colors\"\n        >\n          + Add New Link\n        </button>\n\n        {/* Your Links */}\n        <div className=\"bg-[#111] rounded-xl p-4 min-h-[400px] border border-[#222]\">\n          <h2 className=\"text-[#9A9A9A] text-sm font-bold mb-4 uppercase tracking-wider\">\n            Your Links\n          </h2>\n\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <div className=\"animate-spin w-6 h-6 border-2 border-[#00C853] border-t-transparent rounded-full\" />\n            </div>\n          ) : (\n            <LinkListReorder\n              links={links}\n              onReorder={handleReorder}\n              onEdit={(l) => setSelectedLink(l)}\n              onDelete={handleDeleteLink}\n              onSelect={(l) => setSelectedLink(l)}\n              selectedId={selectedLink?.id}\n            />\n          )}\n        </div>\n      </div>\n\n      {/* CENTER COLUMN: Create/Edit */}\n      <div className=\"lg:col-span-5 space-y-6\">\n        {/* Public URL Bar */}\n        <div className=\"flex items-center justify-between bg-[#111] p-4 rounded-xl border border-[#222]\">\n          <span className=\"text-white font-bold\">Public URL:</span>\n          <code className=\"text-[#00C853] bg-[#00C853]/10 px-3 py-1 rounded\">\n            domain.com/demo\n          </code>\n          <button\n            className=\"text-sm text-[#9A9A9A] hover:text-white transition-colors\"\n            onClick={() => window.open('/demo', '_blank')}\n          >\n            Open\n          </button>\n        </div>\n\n        {/* Create New Link Form */}\n        {isAddingLink && (\n          <div className=\"bg-[#111] rounded-xl p-6 border border-[#222]\">\n            <h3 className=\"text-lg font-bold text-white mb-4\">Create New Link</h3>\n            <div className=\"space-y-4\">\n              <input\n                className=\"w-full bg-[#0a0a0a] border border-[#333] rounded-lg px-4 py-3 text-white placeholder-[#666] focus:border-[#00C853] focus:ring-1 focus:ring-[#00C853] outline-none\"\n                placeholder=\"Title\"\n                value={newLink.title}\n                onChange={e => setNewLink({ ...newLink, title: e.target.value })}\n              />\n              <input\n                className=\"w-full bg-[#0a0a0a] border border-[#333] rounded-lg px-4 py-3 text-white placeholder-[#666] focus:border-[#00C853] focus:ring-1 focus:ring-[#00C853] outline-none\"\n                placeholder=\"URL\"\n                value={newLink.url}\n                onChange={e => setNewLink({ ...newLink, url: e.target.value })}\n              />\n              <div className=\"flex gap-3 justify-end\">\n                <button\n                  className=\"px-4 py-2 bg-transparent border border-[#00C853] text-[#00C853] rounded-lg hover:bg-[#00C853]/10 transition-colors\"\n                  onClick={() => setIsAddingLink(false)}\n                >\n                  Cancel\n                </button>\n                <button\n                  className=\"px-4 py-2 bg-[#00C853] text-black font-bold rounded-lg hover:bg-[#00E676] transition-colors\"\n                  onClick={handleAddLink}\n                >\n                  Create\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Rule Editor */}\n        {selectedLink ? (\n          <RuleConfigurator\n            link={selectedLink}\n            onAddRule={(r) => handleAddRule(selectedLink.id, r)}\n            onDeleteRule={(rid) => handleDeleteRule(selectedLink.id, rid)}\n          />\n        ) : (\n          !isAddingLink && (\n            <div className=\"bg-[#111] rounded-xl border border-[#222] p-12 text-center flex flex-col items-center justify-center min-h-[400px]\">\n              <div className=\"text-6xl mb-4 opacity-20\">‚ö°</div>\n              <h3 className=\"text-xl font-bold text-[#E6E6E6] mb-2\">Select a link to configure</h3>\n              <p className=\"text-[#9A9A9A]\">Add smart rules, schedule availability, or target specific devices.</p>\n            </div>\n          )\n        )}\n      </div>\n\n      {/* RIGHT COLUMN: Analytics */}\n      <div className=\"lg:col-span-4 space-y-6\">\n        <AnalyticsPanel />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}